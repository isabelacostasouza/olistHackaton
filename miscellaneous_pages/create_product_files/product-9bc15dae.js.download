(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{469:function(e,t,r){"use strict";r.r(t);r(88);var n=r(8),a=r(0),o=r.n(a),i=r(3),c=(r(30),r(101),r(131),r(15)),l=r.n(c),s=r(24),u=r.n(s),d=(r(40),r(22)),m=r.n(d),p=r(37),g=r.n(p),h=r(38),f=r.n(h),b=r(41),v=r.n(b),E=r(42),x=r.n(E),w=r(14),y=r.n(w),O=r(43),j=r.n(O),C=r(5),k=r.n(C),S=r(79),P=r.n(S),I=r(7),T=r(1),M=r(23),F=r(2),L=r(6),U=F.default.p.withConfig({componentId:"sc-1w62q61-0"})(["color:",";font-size:","px;margin-bottom:8px;"],Object(T.W)("white","inverter"),Object(L.b)("fontSizes.3")),D=F.default.p.withConfig({componentId:"sc-1w62q61-1"})(["color:",";font-size:","px;margin-bottom:8px;"],Object(T.W)("text","light"),Object(L.b)("fontSizes.1")),A=Object(F.default)(T.t).withConfig({componentId:"sc-1w62q61-2"})([":hover{color:",";}"],Object(T.W)("white")),W=r(4),_=function(e){var t=e.error,r=e.loading,n=e.success,a=e.submitted;return t?o.a.createElement(T.o,{name:"alert-circle-fill",color:Object(T.W)("red")}):n?o.a.createElement(T.o,{name:"success-circle-fill",color:Object(T.W)("green")}):r?o.a.createElement(i.z,null):a?o.a.createElement(T.o,{name:"close-outline",color:Object(T.W)("blue")}):o.a.createElement(T.o,{name:"search-outline",color:Object(T.W)("blue")})};_.defaultProps={error:!1,loading:!1,submitted:!1,success:!1};var z=_,q=F.default.form.withConfig({componentId:"qgiugg-0"})(["","{font-size:","px;margin-bottom:","px;}",""],T.s,Object(L.b)("fontSizes.6"),Object(L.b)("space.3"),(function(e){return e.isPristine&&Object(F.css)(["","{box-shadow:4px 4px 8px ","80,inset 0px 3px 3px rgba(0,0,0,0.05);}"],T.q,(function(e){return Object(T.W)(e.theme.colors.alternate,T.f,1)}))})),R=F.default.p.withConfig({componentId:"qgiugg-1"})(["color:",";margin-top:16px;"],(function(e){return e.error?Object(L.b)("colors.foundation.errorDefault"):Object(L.b)("colors.foundation.shadeDark")})),V=function(e){function t(){var e,r;g()(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return r=v()(this,(e=x()(t)).call.apply(e,[this].concat(i))),k()(y()(r),"state",{isDebounce:!1,isClosable:!1,value:r.props.searchValue}),k()(y()(r),"inputElement",o.a.createRef()),k()(y()(r),"focusTextInput",(function(){return r.inputElement.current.focus()})),k()(y()(r),"handleChange",(function(e){var t=e.target.value;r.setState({value:t,isClosable:!1},r.handleAutoSubmit)})),k()(y()(r),"handleAutoSubmit",(function(){r.state.isDebounce||r.setState({isDebounce:!0},Object(n.t)(r.searchProducts,600)())})),k()(y()(r),"searchProducts",function(){var e=m()(l.a.mark((function e(t){var n,a,o,i,c,s,u,d,m,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.state,a=n.isClosable,o=n.value,i=r.props,c=i.isLoading,s=i.hasError,u=i.onSearch,d=i.onClose,m=t&&"click"===t.type,p=!c&&!s&&a&&m,t&&t.preventDefault(),o){e.next=7;break}return e.abrupt("return",r.setState({isDebounce:!1}));case 7:if(!p){e.next=9;break}return e.abrupt("return",r.setState({value:"",isClosable:!1},(function(){r.focusTextInput(),d()})));case 9:return e.next=11,u(o);case 11:return e.abrupt("return",r.setState({isClosable:!0,isDebounce:!1},r.focusTextInput()));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),k()(y()(r),"getTipsText",(function(){var e=r.props,t=e.hasError,n=e.isLoading,a=e.t;return a(n?"Searching product...":t?"There was a search failure. Please try again.":"If you don't find it, you can register it afterwards.")})),r}return j()(t,e),f()(t,[{key:"componentDidMount",value:function(){var e=this.props.requestQuery;this.inputElement.current&&this.focusTextInput(),e&&this.setState({value:e,isClosable:!0})}},{key:"render",value:function(){var e=this.state,t=e.isClosable,r=e.value,n=this.props,a=n.hasError,i=n.isLoading,c=n.t,l=a&&!i,s=this.getTipsText();return o.a.createElement(q,{onSubmit:function(e){return e.preventDefault()}},o.a.createElement(T.s,{htmlFor:"catalog",size:"large"},c("which product do you want to sell?")),o.a.createElement(T.M,{color:"foundation.shadeDark",mb:4},o.a.createElement(W.a,{ns:"productCatalogForm"},"Search in our catalog by ",o.a.createElement("strong",null,"title"),", ",o.a.createElement("strong",null,"brand")," or"," ",o.a.createElement("strong",null,"bar code")," of the product you wish to sell")),o.a.createElement(T.q,{append:o.a.createElement(z,{error:l,loading:i,onClick:this.searchProducts,submitted:t}),autoComplete:"off",error:l,id:"catalog",name:"catalog",onChange:this.handleChange,placeholder:c("e.g. Monitor LED 27 LG 4K"),pointerEventsAppend:!0,ref:this.inputElement,size:"large",type:"text",value:r}),o.a.createElement(R,{error:l},s))}}]),t}(o.a.Component);V.defaultProps={hasError:!1,isLoading:!1,requestQuery:"",searchValue:""};var B=Object(W.d)("productCatalogForm")(V),N=(r(21),r(66),F.default.div.withConfig({componentId:"sc-700ec8-0"})(["align-items:center;height:65px;justify-content:center;margin-right:18px;width:65px;"])),H=F.default.div.attrs((function(e){return{style:{backgroundImage:"url(".concat(e.imageUrl,")")}}})).withConfig({componentId:"sc-700ec8-1"})(["background-blend-mode:multiply;background-position:center;background-repeat:no-repeat;background-size:contain;height:100%;width:100%;"]),G=F.default.p.withConfig({componentId:"sc-700ec8-2"})([""]),$=F.default.p.withConfig({componentId:"sc-700ec8-3"})(["color:",";"],Object(T.W)("text","light")),Z=Object(F.default)(T.K.Row).withConfig({componentId:"sc-700ec8-4"})(["opacity:0.4;:hover{","{color:inherit !important;}}"],G),K=T.K.Cell,Q=function(e){var t=e.find((function(e){return 0===e.order}));return t?t.url:e[0].url},J={inactiveProduct:gettext("this product can not be sold by olist")},Y=Object(a.memo)((function(e){var t=e.catalogUrl,r=e.product,a=e.query,c=r.aspects,l=r.brand,s=r.gtin,u=r.mpn,d=r.photos,m=r.title,p=l.name,g=d.length,h=function(e,t){var r="",n="",a=e&&e.length,o=t&&t.length;return a&&(r="".concat(gettext("barcode")," ").concat(e.join(" \xb7 "))),o&&(n="".concat(gettext("Part Number")," ").concat(t.join(" \xb7 "))),"".concat(r," ").concat(n)}(s,u),f=function(e){return e.map((function(e){return e.value})).join(" \xb7 ")}(c),b="?history_q=".concat(a),v=t+r.odin+b,E=r.active,x=E?i.C:Z;return o.a.createElement(x,{href:v},o.a.createElement(K,{verticalAlign:"top",justifyContent:"flex-start"},!E&&o.a.createElement(T.c,{variation:"inactive"},J.inactiveProduct),o.a.createElement(T.n,{alignItems:"center"},g&&o.a.createElement(N,null,o.a.createElement(H,{imageUrl:Q(d)})),o.a.createElement(T.n,{flexDirection:"column"},o.a.createElement(G,null,m),o.a.createElement($,null,Object(n.E)(h,{maxLength:60}))))),o.a.createElement(K,{verticalAlign:"top"},Object(n.E)(f,{maxLength:99})),o.a.createElement(K,{verticalAlign:"top"},p))})),X=F.default.div.withConfig({componentId:"sc-1ehn4fm-0"})(["","{:hover{","{color:",";}","{background-color:",";}}}"],T.K.Row,G,Object(T.W)("blue"),H,Object(T.W)("shadow","light",1)),ee=T.K.Cell,te=T.K.Row,re=function(e){var t=e.catalogUrl,r=e.products,n=e.query,a={products:gettext("products"),attributes:gettext("attributes"),brand:gettext("brand")};return o.a.createElement(X,null,o.a.createElement(T.K,null,o.a.createElement(T.K.Head,null,o.a.createElement(te,null,o.a.createElement(ee,{width:"630px"},a.products),o.a.createElement(ee,null,a.attributes),o.a.createElement(ee,{width:"200px"},a.brand))),o.a.createElement(T.K.Body,null,r.map((function(e){return o.a.createElement(Y,{catalogUrl:t,key:e.odin,product:e,query:n})})))))};re.defaultProps={products:[],query:""};var ne=re,ae=r(9),oe=r.n(ae),ie=r(175),ce=function(e){var t=e.urlUpdatePortfolioSize,r=Object(W.c)("productCatalogModalPortfolioSize").t,n=Object(a.useState)(!0),i=oe()(n,2),c=i[0],l=i[1],s=Object(a.useState)(!1),u=oe()(s,2),d=u[0],m=u[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(ie.a,{isOpen:c,onRequestClose:function(){return l(!1)},onSuccessRequest:function(){return m(!0)},shouldCloseOnOverlayClick:!1,shouldShowCloseIcon:!1,submitUrl:t}),o.a.createElement(T.O,{icon:"success-outline",position:"bottom-center",showToast:d,variation:"primary"},r("All right! Sent with success.")))};ce.defaultProps={urlUpdatePortfolioSize:"/settings/update-portfolio-size/"};var le=ce,se=function(e){function t(){var e,r;g()(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=v()(this,(e=x()(t)).call.apply(e,[this].concat(a))),k()(y()(r),"state",{currentPage:1,didSearch:!1,hasError:!1,hasMultiplePages:!1,isLoading:!1,isLoadingMore:!1,lastPage:0,limitPerPage:1,offset:0,products:[],productsCount:0,query:""}),k()(y()(r),"search",m()(l.a.mark((function e(){var t,n,a,o,i,c,s,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.state,n=t.query,a=t.offset,o=t.products,i=r.props.action,e.prev=2,e.next=5,P.a.get(i,{headers:{"X-Requested-With":"XMLHttpRequest"},params:{q:n,offset:a}});case 5:c=e.sent,s=c.data,d=0===a?s.results:[].concat(u()(o),u()(s.results)),r.setState({currentPage:s.page,didSearch:!0,hasError:!1,hasMultiplePages:s.total_pages>1,isLoading:!1,isLoadingMore:!1,lastPage:s.total_pages,limitPerPage:s.limit,products:d,productsCount:s.count}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),r.setState({isLoading:!1,isLoadingMore:!1,hasError:!0});case 14:case"end":return e.stop()}}),e,null,[[2,11]])})))),k()(y()(r),"handleClose",(function(){r.setState({products:[],query:""})})),k()(y()(r),"handleSearch",(function(e){r.setState({isLoading:!0,offset:0,query:e},r.search)})),k()(y()(r),"handleCLick",(function(){var e=r.state,t=e.limitPerPage*e.currentPage;r.setState({isLoadingMore:!0,offset:t},r.search)})),r}return j()(t,e),f()(t,[{key:"componentDidMount",value:function(){var e=this.props.requestQuery;e&&this.setState({isLoading:!0,query:e},this.search)}},{key:"render",value:function(){var e=this.state,t=e.currentPage,r=e.didSearch,n=e.hasError,a=e.hasMultiplePages,c=e.isLoading,l=e.isLoadingMore,s=e.lastPage,u=e.products,d=e.productsCount,m=e.query,p=this.props,g=p.catalogUrl,h=p.gtinUrl,f=p.portfolioSize,b=p.requestQuery,v=p.urlUpdatePortfolioSize,E=!c&&!!u.length&&!n,x=a&&!(t===s),w=!u.length&&m&&!c&&!n,y={productsCount:interpolate(ngettext("%s product found","%s products found",d),[d]),registerNew:gettext("register new product"),moreResult:gettext("show more results"),productsNotFound:gettext("No products were found."),takeAdvantage:gettext("Take advantage to be the first to register the product."),doNotFind:gettext("do not find the product?")},O=0===parseInt(f,10);return o.a.createElement(T.d,{mb:7},o.a.createElement(T.n,{justifyContent:"space-between",alignItems:"flex-end"},o.a.createElement(T.d,{width:7/12},o.a.createElement(B,{hasError:n,isLoading:c,onClose:this.handleClose,onSearch:this.handleSearch,requestQuery:b})),r&&o.a.createElement(T.d,{mb:7,width:303.61},o.a.createElement(U,null,y.doNotFind),o.a.createElement(A,{href:h,size:"large",variation:"primary",fullWidth:!0},y.registerNew))),E&&o.a.createElement(T.d,{mt:5},o.a.createElement(D,null,y.productsCount),o.a.createElement(ne,{catalogUrl:g,products:u,query:m}),x&&o.a.createElement(T.n,{justifyContent:"center",mt:7},o.a.createElement(T.e,{icon:"chevron-down-outline",loading:l,onClick:this.handleCLick,"data-ref":"show-more"},y.moreResult))),w&&o.a.createElement(T.d,{my:10},o.a.createElement(i.F,{title:y.productsNotFound,subtitle:y.takeAdvantage,imgSrc:M.l,link:{text:y.registerNew,href:h}})),O&&o.a.createElement(le,{urlUpdatePortfolioSize:v}))}}]),t}(a.Component);se.defaultProps={catalogUrl:"/products/catalog/",gtinUrl:"/products/gtin/",requestQuery:"",urlUpdatePortfolioSize:"/settings/update-portfolio-size/"};var ue=se,de=Object(F.default)(i.x.Container).withConfig({componentId:"sc-119s6qn-0"})(["position:relative;"]),me=function(e){return o.a.createElement(de,null,o.a.createElement(i.x.SubHeader,null,o.a.createElement(i.x.Title,null,gettext("New product"))),o.a.createElement(ue,e))},pe=(r(35),r(49),r(74)),ge=r(10),he=F.default.div.withConfig({componentId:"gw6bzw-0"})(["font-size:","px;width:280px;"],(function(e){return e.theme.fontSizes[1]})),fe=F.default.div.withConfig({componentId:"gw6bzw-1"})(["color:",";font-weight:",";"],(function(e){return Object(T.W)(e.theme.colors.accent)}),(function(e){return e.theme.fontWeights.semibold})),be=F.default.div.withConfig({componentId:"gw6bzw-2"})(["color:",";p{margin-top:4px;margin-bottom:16px;}ul{li{list-style:disc;}}"],(function(e){return Object(T.W)(e.theme.colors.text,T.f,1)})),ve=F.default.div.withConfig({componentId:"sc-1cy0p2w-0"})(["width:450px;",""],(function(e){return e.isPristine&&Object(F.css)(["Input{box-shadow:4px 4px 8px ","80,inset 0px 3px 3px rgba(0,0,0,0.05);}"],(function(e){return Object(T.W)(e.theme.colors.alternate,T.f,1)}))})),Ee=F.default.div.withConfig({componentId:"sc-1cy0p2w-1"})(["margin-top:8px;"]),xe=F.default.form.withConfig({componentId:"sc-1cy0p2w-2"})(["display:flex;justify-content:center;margin-top:170px;position:relative;ul{margin-top:5px;}"]),we=F.default.div.withConfig({componentId:"sc-1cy0p2w-3"})(["margin-top:10px;text-align:center;"]),ye=F.default.a.withConfig({componentId:"sc-1cy0p2w-4"})(["color:",";font-size:","px;text-decoration:none;"],(function(e){return Object(T.W)(e.theme.colors.link)}),(function(e){return e.theme.fontSizes[1]})),Oe=F.default.div.withConfig({componentId:"sc-1cy0p2w-5"})(["left:0;position:absolute;top:50px;width:360px;"]);Object(pe.g)({gtin:{digit:gettext("A valid ${path} should contains only digits."),filled:gettext("Insert a ${path} to continue."),gtinFormat:gettext("Insert a valid ${path}."),gtinPrefix:gettext("The prefix ${arg0} is not valid.")}});var je=function(e){function t(){var e,r;g()(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return r=v()(this,(e=x()(t)).call.apply(e,[this].concat(o))),k()(y()(r),"state",{activeValidator:!1,clientErrors:[],isDebounce:!1,isLoading:!1,isPristine:!0,isValid:!1,isSubmitting:!1,value:""}),k()(y()(r),"messages",{tip:gettext("tip"),tipDescription:gettext("The barcode is located on the package or on the product itself."),tipImageAlt:gettext("Box showing where to find the barcode."),barcode:gettext("barcode"),placeholder:gettext("e.g. 123456789123"),continue:gettext("continue"),noBarcode:gettext("I don't have the barcode."),inactiveProduct:gettext("forbidden product"),inactiveDescription:gettext("For legal reasons, olist is not allowed to sell products of this brand or category."),inactiveImageAlt:gettext("Box showing that this product is not allowed")}),k()(y()(r),"debounceChanged",Object(n.t)((function(e){r.setState({isDebounce:!1,isLoading:!0}),r.fakeRequest(e)}),600)),k()(y()(r),"fakeRequest",Object(n.t)((function(e){var t=Object(pe.c)(e,gettext("barcode"));r.setState({clientErrors:t.errorMessages(),isLoading:!1,isPristine:!1,isSubmitting:!1,isValid:t.isValid()})}),300)),k()(y()(r),"focusTextInput",(function(){return r.inputElement.focus()})),k()(y()(r),"handleChange",(function(e){var t=e.target.value,n=r.state.activeValidator;r.setState({value:t},(function(){n&&(r.setState({isDebounce:!0}),r.debounceChanged(t))})),!n&&t.length>=8&&r.setState({activeValidator:!0,isDebounce:!0},(function(){r.debounceChanged(t)}))})),k()(y()(r),"handleSubmit",(function(e){var t=e.target,n=r.state,a=n.isDebounce,o=n.isLoading,i=n.isValid,c=n.value;return e.preventDefault(),!o&&!a&&(i?(t.removeEventListener("submit",(function(){})),r.setState({isSubmitting:!0},(function(){t.submit()}))):(r.setState({activeValidator:!0},(function(){r.setState({isLoading:!0}),r.fakeRequest(c)})),!1))})),r}return j()(t,e),f()(t,[{key:"componentDidMount",value:function(){this.focusTextInput()}},{key:"render",value:function(){var e=this,t=this.props,r=t.action,n=t.serverErrors.gtin,a=this.state,i=a.clientErrors,c=a.isLoading,l=a.isPristine,s=a.isSubmitting,u=a.isValid,d=a.value,m=Object(ge.j)(n),p=Object(ge.i)(n),g=i.length>0,h=!d&&n&&l,f=!u&&!c&&!l||h,b=u&&!c,v=!u&&(!l||n),E=p.includes("inactive_product");return o.a.createElement(xe,{action:r,method:"post",onSubmit:this.handleSubmit},v&&o.a.createElement(o.a.Fragment,null,E?o.a.createElement(Oe,null,o.a.createElement(he,null,o.a.createElement(fe,null,this.messages.inactiveProduct),o.a.createElement(be,null,o.a.createElement("p",null,this.messages.inactiveDescription),o.a.createElement("img",{src:M.a,alt:this.messages.inactiveImageAlt})))):o.a.createElement(Oe,null,o.a.createElement(he,null,o.a.createElement(fe,null,this.messages.tip),o.a.createElement(be,null,o.a.createElement("p",null,this.messages.tipDescription),o.a.createElement("img",{src:M.b,alt:this.messages.tipImageAlt}))))),o.a.createElement(ve,{isPristine:l},o.a.createElement(T.s,{align:"center",htmlFor:"gtin",size:"large"},this.messages.barcode),o.a.createElement(T.q,{append:o.a.createElement(z,{loading:c,error:f,success:b}),error:f,id:"gtin",autoComplete:"off",ref:function(t){e.inputElement=t},name:"gtin",onChange:this.handleChange,placeholder:this.messages.placeholder,size:"large",success:b,type:"text",value:d}),g&&o.a.createElement(T.l,{forceDiscOnSingle:!0,messages:i}),h&&o.a.createElement(T.l,{forceDiscOnSingle:!0,messages:m}),b?o.a.createElement(Ee,null,o.a.createElement(T.e,{disabled:s,fullWidth:!0,loading:s,size:"large",type:"submit",variation:"primary"},this.messages.continue)):o.a.createElement(we,null,o.a.createElement(ye,{href:"http://get.olist.help/guia-cadastro-de-produtos/como-gerar-eans-para-os-meus-produtos",target:"_blank"},this.messages.noBarcode))))}}]),t}(o.a.Component);je.defaultProps={serverErrors:null};var Ce=Object(i.H)(je),ke=Object(F.default)(i.x.Container).withConfig({componentId:"x3p0y9-0"})(["position:relative;"]),Se=function(e){var t=e.action,r=e.errors;return o.a.createElement(ke,null,o.a.createElement(i.x.SubHeader,null,o.a.createElement(i.x.Title,null,gettext("New product"))),o.a.createElement(Ce,{action:t,serverErrors:r}))};Se.defaultProps={errors:{}};var Pe=Se,Ie=r(17),Te=r.n(Ie),Me=r(25),Fe=r.n(Me),Le=(r(28),r(71),r(29),r(100),r(33),r(34),r(27),r(92),r(167),r(31),r(118),r(85)),Ue=r(19),De=r(106),Ae=r(178),We=r(305),_e=(r(65),r(210),r(97),r(67)),ze=r.n(_e),qe="c2iv7pnMSTs",Re="0nnh6LjJK_0",Ve="vPr7mlauEZ8",Be="5nL7MBkyOZo",Ne="brand",He="capacity",Ge="code",$e="description",Ze="gtin",Ke="height_value",Qe="length_value",Je="length_unit",Ye="packages_measures",Xe="price",et="product_measures",tt="products_in_package",rt="title",nt="weight_unit",at="weight_value",ot="width_value",it="attributes",ct="optional_attributes",lt="manual_attributes",st="handling_time",ut="offer_price",dt="stock",mt="part_number",pt="photos",gt="categories",ht={inModeration:gettext("product in revision"),resendForRevision:gettext("resend for revision"),saveInformations:gettext("save informations"),saveContinueLater:gettext("save and continue later"),sendForReview:gettext("send for review"),sendImages:gettext("send images"),edit:gettext("edit"),cancelEditing:gettext("cancel editing"),error:gettext("Fix the errors before continuing"),textInModeration:gettext("The product is in review and that why cannot be edited."),textAmountModerationError:function(e){return Object(ge.s)(interpolate(ngettext("%s fix pending","%s fixes pending",e),[e]))}},ft={offerPrice:gettext("price to"),price:gettext("price from"),productsInPackage:gettext("the packaging can contain more units of the same product"),stock:gettext("stock"),brand:gettext("product brand"),description:gettext("description"),gtin:gettext("barcode"),height:gettext("height"),images:gettext("images"),length:gettext("length"),title:gettext("title"),optional:gettext("optional"),productCode:gettext("internal code"),productWeight:gettext("product weight"),weight:gettext("total weight"),width:gettext("width"),optionalAttributes:gettext("complementary attributes"),partNumber:gettext("part number"),photos:gettext("photos"),variations:gettext("variations"),dimensions:gettext("dimensions"),category:gettext("category"),comments:gettext("comments"),others:gettext("others"),singlePrice:gettext("price"),addNewAttribute:gettext("create attributes"),selectCategory:gettext("select the category for your product"),selectedCategory:gettext("selected category")},bt={brand:gettext("e.g Samsung, Kingston, WAP"),description:gettext("With the Samsung LED Smart TV J5200 you can watch videos on Youtube, Netflix and explore a variety..."),title:gettext('e.g Smart TV LED 49" Samsung 49J5200 Full HD'),productCode:gettext("e.g 100-B"),category:gettext("pick the product's category"),loadingSuggestion:gettext("loading suggestion..."),stock:"0",productsInPackage:"0"},vt={informations:gettext("informations"),send:gettext("product and package weights and measures"),tip:gettext("tip"),categoriesTip:gettext("review categories"),technicalSheet:gettext("technical sheet"),optionalAttributesTip:gettext("better positioning"),category:gettext("category"),adQuality:gettext("Excellent!")},Et={price:gettext("Inform your best selling price to increase your competitiveness."),"packages_measures[0].capacity":gettext("Let the value of the freight more competitive informing when more product fits in the same packaging."),attributes:gettext("Fill the required attributes for better positioning of the product in the marketplaces. Inform the maximum of details. Remember to always also enter this information at the product's description."),brand:gettext("Enter the brand of the product manufacturer, if it is self-made, enter the name of your brand."),categories:gettext("It's important to check if all automatically selected categories are coherent with your product. Check it before saving and submitting it for review."),cover:gettext("cover"),description:gettext("Highlight the features and describe your product in a clear, detailed and objective way to help the customer understand the benefits of the product."),move:gettext("sort"),title:gettext("Create a good headline by displaying the following information: Product Name + Brand + Model + Relevant Features, "),optionalAttributes:gettext("Get the best placement in your channels by providing as much detail as possible about the product. To know more, "),productMeasures:Object(ge.s)(gettext("Please state the dimensions of your product <strong>ready</strong>, without considering the package.")),packagesMeasures:gettext("Please state the dimensions of your product packed for shipping, considering the total weight of the package with the product inside."),productCode:gettext("Organize the products with your internal code. The number used in your ERP, for example."),optionalAttributesLink:gettext("watch the video.")},xt={category:gettext("Whoops! Unfortunately, we couldn't list this channel's categories. Please try again later."),productMeasures:gettext("The measure should be greater than 0."),attributes:function(e){return interpolate(gettext("Insert the attribute value for %s"),[e])},photos:gettext("Send at least one image."),priceUpBF:gettext("During Black Friday, prices can not be increased.")},wt={commentsTitle:gettext("review team comments")},yt=function(e){return ngettext("product","products",e)},Ot=function(e){return ngettext("character","characters",e)},jt={subtitle:gettext("product measurements packed for shipping"),title:gettext("dimensions for freight calculation"),addNew:gettext("add other package")},Ct={title:gettext("measures of the product without the package")},kt={boat:gettext("Boat representing the product measures"),movePhotoToNext:gettext("move photo to next"),movePhotoToPrev:gettext("move photo to previous"),removePhoto:gettext("remove photo"),setPhotoToCover:gettext("set photo to cover"),weightSymbol:gettext("Symbol representing the weight measure"),party:gettext("Congratulations")},St={title:gettext("required attributes"),selectPlaceholder:gettext("select")},Pt={addNew:gettext("add another attribute"),placeholders:[{key:gettext("e.g. Color"),value:gettext("e.g. Blue")},{value:gettext("e.g. fill the attribute value")}],showMoreAttributes:gettext("show more attributes"),showFewerAttributes:gettext("show fewer attributes"),adQualility:gettext("Ad qualitiy")},It={greaterThanOrEqual:gettext("${path} should be greater or equal than ${arg0}"),measurementGreaterThan:gettext("${path} should be greater than ${arg0}"),measurementGreaterThanOrEqual:gettext("${path} should be a greater than or equal ${arg0}${arg1}"),measurementsSumGreaterThanOrEqual:gettext("The sum of the ${path} should be a greater than or equal to ${arg0}${arg1}"),measurementBetween:gettext("${path} should be a between ${arg0}${arg2} and ${arg1}${arg2}"),measurementsSumBetween:gettext("The sum of the ${path} should be a between ${arg0}${arg2} and ${arg1}${arg2}"),greaterThanOrEqualInCapacity:gettext("${path} should be greater or equal than ${arg0}"),quantityByWeight:gettext("Based on the stated weight, up to ${arg2} product(s) in the same package is allowed due to the maximum Correios limit of ${arg1}${arg3}.")};r(454),r(129),r(456),r(130),r(147),r(458),r(164),r(109),r(459),r(145);function Tt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tt(r,!0).forEach((function(t){k()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tt(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ft={length_unit:"cm",weight_unit:"g"},Lt=["width","height","length","weight"],Ut=function(e,t){var r=new RegExp("^".concat(t,"\\[(\\d+)\\].(").concat(Lt.join("|"),")")),n=e&&e.match(r);return n?{index:n[1],measure:n[2],name:n.input}:void 0},Dt=function(e,t){var r=new RegExp("^".concat(t,".(").concat(Lt.join("|"),")")),n=e&&e.match(r);return n?{measure:n[1],name:n.input}:void 0},At=function(e,t){var r=e.getState(),n=r.active,a=r.errors[t],o=n&&n.startsWith(t),i=r.touched[n];if(!o)return!1;var c=Number(n.match(/\d+/)[0]);return!(a?a[c]:null)||!i},Wt=function(e){var t=e.error,r=e.touched;return t&&r},_t=function(e){var t=e.dirtySinceLastSubmit,r=e.submitError;return!t&&r},zt=function(e){return Wt(e)||_t(e)},qt=function(e){var t=e.error,r=e.submitError;return t||r||[]},Rt=Object(i.J)(T.q),Vt=Object(i.J)(T.N),Bt=Object(i.J)(i.r),Nt=function(e){var t=e.error,r=e.submitError,n=e.touched,a=e.active,o=e.dirtySinceLastSubmit,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=zt({error:t,touched:n,dirtySinceLastSubmit:o,submitError:r}),l=n&&i&&!c;return!!l||a&&!c},Ht=function(e){if(!e)return e;var t=/[.,]/;if(e.match(t)){var r=Object(ge.d)(e).split(t),n=oe()(r,2),a=n[0],o=n[1];return"".concat(a,".").concat(o.slice(0,2))}return Object(ge.d)(e)},Gt=function(e){return Object.entries(e).reduce((function(e,t){var r=oe()(t,2),n=r[0],a=r[1],o=parseFloat(a),i=Number.isNaN(o)||"capacity"===n;return Mt({},e,k()({},n,i?a:o.toFixed(2)))}),{})},$t=function(e){if(e.product_measures&&e.packages_measures){var t=e.product_measures;return Mt({},e,{packages_measures:e.packages_measures.map((function(e){return Gt(e)})),product_measures:Gt(t)})}return e},Zt=function(e,t,r){var n,a,o=e[ct],i=function(e,t){return Mt({},e,k()({},gt,Object.keys(t).map((function(r){var n=t[r].category,a=void 0===n?{}:n;if(a.id)return{channel_slug:r,code:a.id?a.id:e};var o=e[gt],i=(void 0===o?[]:o).find((function(e){return e.channel_slug===r}));return{channel_slug:r,code:i?i.code:""}}))))}(e,r);return o&&o.length?Mt({},i,(n={},k()(n,ct,u()(o)),k()(n,lt,o),n)):Mt({},i,(a={},k()(a,ct,Array(t).fill({name:"",value:""})),k()(a,lt,[{name:"",value:""}]),a))},Kt=function(e){var t;return(t=[]).concat.apply(t,u()(e))},Qt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.length?e.map((function(e){return Object(ge.s)(e)})):[]},Jt=function(e,t){return e.trim()!==t},Yt=function(e){return e?"":"error-moderation"},Xt=function(e){if(!Number.isInteger(e)||!e||e<0)return 0;var t=e/1e3,r=parseInt(t/60,10),n=parseInt(t%60,10);return"".concat(r,"m ").concat(n,"s")},er=function(e,t){return parseFloat(((t-e)/t*100).toFixed(2))},tr=function(e){return e<0},rr={cm:gettext("cm"),m:gettext("m"),in:gettext("in"),ft:gettext("ft")},nr={g:gettext("g"),kg:gettext("kg"),oz:gettext("oz")};function ar(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var or=Qe,ir=ot,cr=Ke,lr=at,sr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0";return parseFloat(e.toString().replace(",","."))},ur=function(e){var t=[or,ir,cr,lr].reduce((function(t,r){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ar(r,!0).forEach((function(t){k()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ar(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,k()({},r,(n=e[r],sr(n)>0?void 0:xt.productMeasures)));var n}),{});if(Object.keys(t).some((function(e){return void 0!==t[e]})))return t},dr=function(e){var t=e.map((function(e){return{length_value:sr(e.length_value),length_unit:e.length_unit,width_value:sr(e.width_value),width_unit:e.length_unit,height_value:sr(e.height_value),height_unit:e.length_unit,weight_value:sr(e.weight_value),weight_unit:e.weight_unit,capacity:e.capacity?sr(e.capacity):1}})),r=Object(pe.e)({packages:t});if(!r.isValid())return r.errorMessages().defaultScheme.map((function(e){var t=ze()(e,"capacity",[]);return{length_value:e.length.length?e.length:void 0,width_value:e.width.length?e.width:void 0,height_value:e.height.length?e.height:void 0,weight_value:e.weight.length?e.weight:void 0,size:e.size.length?e.size:void 0,capacity:t.length?t:void 0}}))},mr=function(e){return!!e.length&&e.some((function(e){return void 0!==e&&null!==e}))?void 0:[xt.photos]},pr=function(e,t){return e<=t?void 0:[xt.priceUpBF]},gr=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"price";return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0",a=parseFloat(n.replace(",",".")),o="price"===r?Object(pe.f)(a):Object(pe.d)(a),i=null!=t;if(!o.isValid())return o.errorMessages();if(e&&i){var c=parseFloat(t.replace(",","."));return pr(a,c)}}},hr=function(e,t,r){var n=!e||!t||!r,a=tr(e)||tr(t)||tr(r);if(n||a)return!1;var o=sr(e),i=sr(t);return er(i,o)>=r},fr=Object(F.default)(T.n).withConfig({componentId:"sc-1g5mbi1-0"})(["border-radius:",";flex-direction:column;font-size:","px;padding:","px;position:relative;background-color:",";width:100%;"],Object(L.b)("radius"),Object(L.b)("fontSizes.1"),Object(L.b)("space.3"),Object(T.W)("yellow","light",2)),br=(F.default.ul.withConfig({componentId:"sc-1g5mbi1-1"})(["color:",";"],Object(T.W)("text","light")),F.default.li.withConfig({componentId:"sc-1g5mbi1-2"})(["list-style-type:none;margin-bottom:20px;&:last-child{margin-bottom:0;}"]),F.default.li.withConfig({componentId:"sc-1g5mbi1-3"})(["list-style-type:disc;margin-left:","px;white-space:pre-wrap;"],Object(L.b)("space.3"))),vr=function(e){var t=e.keeperErrors;return o.a.createElement(fr,null,!!t.length&&o.a.createElement(T.d,{as:"ul","data-ref":"keeper-errors",mb:"6px"},t.map((function(e){return o.a.createElement(br,{key:e},Object(ge.s)(e))}))))};vr.defaultProps={keeperErrors:[]};var Er=vr,xr=function(e){var t=e.moderationErrors,r=e.submitError,n="keeper-service"===t.moderated_by,a=!!t.comments&&!!t.comments.length,i=!!t.field_errors&&t.field_errors,c=!!i.comments&&!!i.comments.length,l=c&&i.comments,s=a&&n,u=(a||c)&&!n;return o.a.createElement(o.a.Fragment,null,s&&o.a.createElement(T.G,{mb:5,ml:330},o.a.createElement(Er,{keeperErrors:t.comments})),u&&o.a.createElement(T.G,{mb:5,ml:330},o.a.createElement(T.M.H4,{color:"red"},wt.commentsTitle),a&&o.a.createElement(T.M,{"data-ref":"moderation-comments"},t.comments),c&&l.map((function(e){return o.a.createElement(T.M,{"data-ref":"field-error-comments",key:e},Object(ge.s)(e))}))),r&&o.a.createElement(T.G,{mb:5,ml:330},o.a.createElement(T.b,{messages:[r]})))};xr.defaultProps={moderationErrors:[],submitError:void 0};var wr=xr,yr=Object(F.css)(["margin-left:330px;width:740px;"]),Or=F.default.div.withConfig({componentId:"sc-1rt2fxk-0"})(["margin-bottom:100px;padding-bottom:80px;"]),jr=Object(F.default)(T.d).withConfig({componentId:"sc-1rt2fxk-1"})(["font-size:20px;margin-bottom:8px;"]),Cr=F.default.div.withConfig({componentId:"sc-1rt2fxk-2"})(["background:",";height:1px;margin:60px 0;width:100%;"],Object(T.W)("shadow","light")),kr=Object(F.default)(T.n).withConfig({componentId:"sc-1rt2fxk-3"})(["background:white;height:80px;width:100%;justify-content:center;align-items:center;box-shadow:0px -4px 8px rgba(105,109,140,0.1);button{margin:0 8px;}"]),Sr=Object(F.default)(T.a).withConfig({componentId:"sc-1rt2fxk-4"})(["align-items:center;color:",";display:flex;font-size:","px;font-weight:",";height:100%;right:-398px;top:0px;width:390px;"],Object(L.b)("colors.textLight"),Object(L.b)("fontSizes.1"),Object(L.b)("fontWeights.normal")),Pr=Object(F.default)(T.n).withConfig({componentId:"sc-1rt2fxk-5"})(["flex-wrap:wrap;",""],yr),Ir=Object(F.default)(Pr).attrs({mb:6,pb:6}).withConfig({componentId:"sc-1rt2fxk-6"})(["border-bottom:1px solid ",";"],(function(e){return e.theme.colors.shadeLight})),Tr=F.default.div.withConfig({componentId:"sc-1rt2fxk-7"})(["align-items:center;display:flex;height:44px;position:absolute;right:-268px;top:0;width:260px;"]),Mr=F.default.div.withConfig({componentId:"sc-1rt2fxk-8"})(["color:",";font-size:14px;"],(function(e){return"danger"===e.variation?Object(T.W)("red"):Object(T.W)("text","light")})),Fr=Object(F.default)(T.a).withConfig({componentId:"sc-1rt2fxk-9"})(["top:",";left:0;width:314px;ul{margin:0;}"],(function(e){return e.top||"2px"})),Lr=Object(F.default)(Fr).withConfig({componentId:"sc-1rt2fxk-10"})(["margin-right:16px;margin-top:46px;"]),Ur=Object(F.default)(T.c).withConfig({componentId:"sc-1rt2fxk-11"})(["font-weight:",";margin-bottom:16px;"],Object(L.b)("fontWeights.semibold")),Dr=F.default.button.withConfig({componentId:"sc-1rt2fxk-12"})(["color:",";&:hover,&:focus{text-decoration:underline;}&:focus{outline:none;}"],(function(e){return Object(T.W)(e.theme.colors.alternate)})),Ar=F.default.div.withConfig({componentId:"sc-1rt2fxk-13"})(["cursor:pointer;svg path{fill:",";}svg:hover path{fill:",";}"],Object(T.W)("text","light",2),Object(T.W)("text","light",1)),Wr=Object(F.css)(["align-items:center;margin-bottom:8px;"]),_r=Object(F.css)(["border-top-right-radius:0;border-bottom-right-radius:0;"]),zr=(Object(F.css)(["border-top-left-radius:0;border-bottom-left-radius:0;margin-left:-1px;"]),Object(F.default)(i.k).withConfig({componentId:"sc-1rt2fxk-14"})(["&:disabled{background-color:",";}"],Object(T.W)("blue","light",2))),qr=Object(F.default)(i.G).withConfig({componentId:"sc-1rt2fxk-15"})(["display:inline;> div{display:inline;}"]),Rr=Object(F.default)(T.d).withConfig({componentId:"sc-1rt2fxk-16"})(["a,a:focus,a:visited{color:",";font-size:inherit;}a:hover{color:",";}"],Object(L.b)("colors.blue"),Object(L.b)("colors.blueLight")),Vr=Object(i.J)(T.H),Br=Object(F.default)(T.a).withConfig({componentId:"sc-1z03p5v-0"})(["left:0;"]),Nr=Object(F.default)(T.n).withConfig({componentId:"sc-1z03p5v-1"})([""," ","{border-right:none;}"," input{"," border-top-left-radius:0;border-bottom-left-radius:0;}"," select{border-top-left-radius:0;border-bottom-left-radius:0;}"],Wr,zr,T.d,_r,T.d),Hr=F.default.option.withConfig({componentId:"sc-1z03p5v-2"})(["color:gray;display:none;"]),Gr=Object(F.default)(Vr).withConfig({componentId:"sc-1z03p5v-3"})(["color:",";z-index:",";"],(function(e){return e.input.value?Object(T.W)("text","primary"):Object(T.W)("text","light",1)}),(function(e){return e.input.active||e.input.invalid?1:0})),$r=function(e){var t=e.options,r=Fe()(e,["options"]);return o.a.createElement(i.k,{name:it},(function(e){var n=e.input;return o.a.createElement(Gr,Te()({},r,{disabled:n.disabled}),o.a.createElement(Hr,{value:"",disabled:!0,defaultValue:!0},St.selectPlaceholder),t.map((function(e){var t=e.value;return o.a.createElement("option",{key:t,value:t},t)})))}))},Zr=Object(i.J)(T.q),Kr=function(e){return!e},Qr=function(e){var t=e.name,r=e.options,n=e.shouldHideError,a=e.attributeName,i="text"===e.valueType;return o.a.createElement(Nr,null,o.a.createElement(Br,null,o.a.createElement(Ue.a,{name:"".concat(t,".value"),subscription:{active:!0,dirtySinceLastSubmit:!0,submitError:!0,touched:!0,error:!0}},(function(e){var t=e.meta;if(!n&&zt(t)){var r=qt(t),i=r.length?r:[xt.attributes(a)];return o.a.createElement(T.l,{forceDiscOnSingle:!0,messages:i})}return null}))),o.a.createElement(T.d,{width:.5},o.a.createElement(zr,{component:Zr,id:t,name:"".concat(t,".name"),disabled:!0})),o.a.createElement(T.d,{width:.5},o.a.createElement(Ue.a,{component:i?Zr:$r,id:t,name:"".concat(t,".value"),validate:Kr,options:r,placeholder:Pt.placeholders[1].value})))},Jr=function(e){var t=e.fields,r=e.errorMessages,n=e.hasFixModerationError,a=e.optionsets,i=e.shouldShowTip,c=!!r&&!!r.length;return o.a.createElement(T.G,{mb:8},o.a.createElement(Pr,null,o.a.createElement(T.d,{width:"100%"},o.a.createElement(T.d,{mb:"5px","data-error":Yt(n)},St.title),t&&t.map((function(e,r){var n=function(e,t,r){return r.find((function(r){return r.name===e[t].name}))}(t.value,r,a);return n?o.a.createElement(Qr,{attributeName:n.name,key:e,name:e,options:n.options,valueType:n.value_type,shouldHideError:i}):null}))),o.a.createElement(Fr,null,i&&o.a.createElement(he,null,o.a.createElement(fe,null,vt.tip),o.a.createElement(be,null,Et.attributes)))),c&&o.a.createElement(Rr,{width:740,ml:"330px",mt:"-4px"},o.a.createElement(T.b,{messages:Qt(r),variation:n?"shadow":"danger"})))};Jr.defaultProps={errorMessages:[]};var Yr=Jr,Xr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(pe.a)(e);return t.isValid()?void 0:t.errorMessages()},en=function(e){var t=e.errorMessages,r=e.hasFixModerationError;return o.a.createElement(i.k,{name:Ne,showPopover:!1,validate:Xr},(function(e){var n=e.input,a=e.meta,c=!!t.length;return o.a.createElement(T.G,{mb:6},o.a.createElement(Pr,null,o.a.createElement(i.l,null,o.a.createElement(T.d,{width:468},o.a.createElement(T.s,{htmlFor:n.name,"data-error":Yt(r)},ft.brand),o.a.createElement(Rt,Te()({},n,{meta:a,type:"text",id:n.name,autoComplete:"off",placeholder:bt.brand,error:c&&!r||zt(a)}))),c&&o.a.createElement(Rr,null,o.a.createElement(T.b,{mt:1,messages:Qt(t),variation:r?"shadow":"danger"})))),o.a.createElement(Fr,null,Nt(a)&&o.a.createElement(he,null,o.a.createElement(fe,null,vt.tip),o.a.createElement(be,null,o.a.createElement("p",null,Et.brand))),zt(a)&&o.a.createElement(T.l,{forceDiscOnSingle:!0,messages:qt(a)})))}))};en.defaultProps={errorMessages:[]};var tn=en;r(209),r(287);function rn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function nn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rn(r,!0).forEach((function(t){k()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rn(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var an=F.default.div.withConfig({componentId:"sc-1oxfp0a-0"})(["margin-left:auto;"]),on=(F.default.div.withConfig({componentId:"sc-1oxfp0a-1"})(["",""],yr),Object(F.default)(T.n).withConfig({componentId:"sc-1oxfp0a-2"})(["align-items:center;padding:15px 0 15px 0;"])),cn=Object(F.default)(T.M).withConfig({componentId:"sc-1oxfp0a-3"})(["color:",";font-size:","px;line-height:20px;"],Object(T.W)("text","light",0),(function(e){return e.theme.fontSizes[1]})),ln=F.default.p.withConfig({componentId:"sc-1oxfp0a-4"})(["font-weight:",";line-height:27px;padding-right:20px;text-transform:lowercase;"],(function(e){return e.theme.fontWeights.semibold})),sn=(Object(F.default)(on).withConfig({componentId:"sc-1oxfp0a-5"})(["align-items:flex-start;flex-direction:column;opacity:50%;order:1;","{text-transform:none;}"],ln),Object(F.default)(T.n).withConfig({componentId:"sc-1oxfp0a-6"})(["align-items:center;height:25px;"])),un=F.default.div.withConfig({componentId:"sc-1oxfp0a-7"})(["height:80px;padding:10px 0px 10px 0px;"]),dn=F.default.div.withConfig({componentId:"sc-1oxfp0a-8"})(["display:flex;flex-wrap:wrap;div + div:before{color:darkgrey;content:'/';font-size:16px;}"]),mn=F.default.button.withConfig({componentId:"sc-1oxfp0a-9"})(["margin-left:auto;"]),pn={container:function(e){return nn({},e,{width:"740px"})},control:function(e,t){var r=Object.assign({},t),n=r.selectProps.menuIsOpen?"2px solid ".concat(Object(T.W)("blue")):"1px solid ".concat("#B6B9D0"),a="2px solid ".concat(Object(T.W)("red")),o=r.selectProps.error?a:n;return nn({},e,{border:o,borderColor:"#B6B9D0",borderRadius:"3px",borderWidth:"1px",boxShadow:"inset 0px 3px 3px rgba(0,0,0,0.05)",minHeight:"44px",":hover":{border:o}})},dropdownIndicator:function(e,t){return nn({},e,{transform:Object.assign({},t).selectProps.menuIsOpen?"rotate(180deg)":""})},indicatorSeparator:function(e,t){return nn({},e,{display:Object.assign({},t).selectProps.value.length?"":"none"})},multiValue:function(e){return nn({},e,{backgroundColor:"white",marginRight:0,padding:0})},multiValueLabel:function(e){return nn({},e,{fontSize:"16px",padding:"0",paddingLeft:"3px",paddingRight:"1px",textTransform:"lowercase"})},multiValueRemove:function(e){return nn({},e,{display:"none"})},menu:function(e){return nn({},e,{margin:0,zIndex:2})},option:function(e){return nn({},e,{alignItems:"center",backgroundColor:"white",cursor:"pointer",display:"flex",height:"40px",textTransform:"lowercase",":after":{borderRadius:"1px",borderStyle:"solid",borderWidth:"0.1em 0.1em 0 0",content:'""',height:"0.5em",marginLeft:"auto",marginRight:"8px",transform:"rotate(45deg)",width:"0.5em"},":hover":{backgroundColor:Object(T.W)("shadow","light",2)}})},placeholder:function(e){return nn({},e,{color:Object(T.W)("text","light"),fontSize:"14px"})}},gn=function(e){var t=e.categoryPath,r=e.onEditClick;return o.a.createElement(on,null,o.a.createElement(T.d,null,o.a.createElement(cn,null,ft.selectedCategory),o.a.createElement(ln,null,t)),o.a.createElement(an,null,o.a.createElement(i.a,{visibilityName:gt},o.a.createElement(T.e,{onClick:r,type:"button"},ht.edit))))},hn=r(45),fn=function(e){var t=e.children,r=Fe()(e,["children"]);return o.a.createElement(hn.z.ValueContainer,r,o.a.createElement(dn,null,t))},bn=r(216),vn=Object(a.forwardRef)((function(e,t){var r=e.name,n=e.onChange,a=Fe()(e,["name","onChange"]),c=function(e){return function(t){e.onChange(t),n&&n(t)}};return o.a.createElement(i.k,{name:r,visibilityName:gt},(function(e){var r=e.input;return o.a.createElement(bn.a,Te()({},r,a,{isDisabled:r.disabled||a.isDisabled,ref:t,onChange:c(r)}))}))}));vn.defaultProps={onChange:null};var En=vn,xn=function(e){function t(){var e,r;g()(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=v()(this,(e=x()(t)).call.apply(e,[this].concat(a))),k()(y()(r),"inputRef",o.a.createRef()),k()(y()(r),"componentDidUpdate",(function(){var e=r.props.options;e&&!e.length&&r.inputRef.current.select.blur()})),r}return j()(t,e),f()(t,[{key:"render",value:function(){var e=this.props,t=e.channelSlug,r=e.error,n=e.isDisabled,a=e.name,i=e.onCancelClick,c=e.onChange,l=e.onMenuClose,s=e.onMenuOpen,u=e.options,d=e.placeholder,m=e.selectedOptions,p=e.shouldOpenOnMount,g=e.shouldShowCancelButton;return o.a.createElement(un,{mb:3},o.a.createElement(sn,null,o.a.createElement(cn,null,ft.selectCategory),g&&o.a.createElement(mn,{type:"button",onClick:i},ht.cancelEditing)),o.a.createElement(En,{autoFocus:p,closeMenuOnSelect:!1,components:{ValueContainer:fn},error:r,getOptionValue:function(e){return e.id},getOptionLabel:function(e){return e.name},isDisabled:n,isMulti:!0,isSearchable:!1,name:a,noOptionsMessage:function(){return xt.category},onMenuClose:l,onMenuOpen:s,onChange:c(t,this.inputRef),openMenuOnFocus:p,options:u,placeholder:d,ref:this.inputRef,styles:pn,value:m}))}}]),t}(o.a.Component);xn.defaultProps={error:!1,isDisabled:!1,name:"",selectedOptions:[],shouldOpenOnMount:!1,shouldShowCancelButton:!0,options:[],placeholder:""};var wn=xn;function yn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function On(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yn(r,!0).forEach((function(t){k()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yn(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var jn=function(e){function t(){var e,r;g()(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=v()(this,(e=x()(t)).call.apply(e,[this].concat(a))),k()(y()(r),"channels",Object.keys(r.props.channels).reduce((function(e,t){var n=r.props,a=n.product,o=n.channels,i=a.categories.find((function(e){return e.channel_slug===t})),c=null;return i&&i.code&&(c=i.code),On({},e,k()({},t,On({},o[t],{category:{id:c}})))}),{})),k()(y()(r),"state",Object.keys(r.channels).reduce((function(e,t){return On({},e,k()({},t,On({},r.channels[t],{categoryTrees:{},categoryPath:"",error:!1,isLoadingSuggestion:!1,isMenuOpen:!1,isSelected:!r.channels[t].category.id,selectedOptions:[]})))}),{})),k()(y()(r),"componentDidMount",(function(){Object.keys(r.channels).forEach(function(){var e=m()(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.fetchCategories("rootCategories",null,t);case 2:n=r.channels[t].category.id,r.handleInitialCategory(n,t,!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),k()(y()(r),"componentDidUpdate",(function(e){var t=r.props,n=t.shouldGetSuggestions,a=t.isTriggerFieldActive;n&&e.isTriggerFieldActive&&!a&&Object.keys(r.channels).forEach((function(e){r.state[e].category.id||r.getChannelSuggestion(e)}))})),k()(y()(r),"getChannelSuggestion",function(){var e=m()(l.a.mark((function e(t){var n,a,o,i,c,s,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.props,a=n.getSuggestion,o=n.valuesForSuggestion,i=o[rt],c=o[$e],s=o[Ne],r.setLoadingSuggestion(t,!0),e.prev=2,e.next=5,a(i.input.value,c.input.value,s.input.value,t);case 5:return u=e.sent,e.next=8,r.handleInitialCategory(u.id,t,!1);case 8:return e.prev=8,r.setLoadingSuggestion(t,!1),e.finish(8);case 11:case"end":return e.stop()}}),e,null,[[2,,8,11]])})));return function(t){return e.apply(this,arguments)}}()),k()(y()(r),"setLoadingSuggestion",(function(e,t){return r.setState((function(r){var n=r[e];return k()({},e,On({},n,{isLoadingSuggestion:t}))}))})),k()(y()(r),"generateCategoryPath",(function(e){return e.map((function(e){return e.name})).join(" / ")})),k()(y()(r),"isCategoryPreFilled",(function(e){return null!==r.getChannel(e).category.id})),k()(y()(r),"getChannel",(function(e){return r.state[e]})),k()(y()(r),"getChannelCurrentTree",(function(e){var t=r.getChannel(e);return t.categoryTrees[t.treeId]})),k()(y()(r),"shouldRenderCategoryInput",(function(e){return r.state[e].isSelected})),k()(y()(r),"handleMenuClose",(function(e){return function(){r.getChannelCurrentTree(e).length&&r.cleanSelectedOptions(e,!1)}})),k()(y()(r),"cleanSelectedOptions",(function(e,t){var n=r.getChannel(e);r.setState(k()({},e,On({},n,{selectedOptions:[],treeId:"rootCategories",isMenuOpen:t,category:On({},n.category,{id:""})})))})),k()(y()(r),"getChannelIndex",(function(e){return Object.keys(r.state).indexOf(e)})),k()(y()(r),"updateFinalFormState",(function(e,t){var n=r.props.updateCategory,a=e.channel_slug;n(r.getChannelIndex(t),{channel_slug:a,code:e.id})})),k()(y()(r),"handleInvalidCategory",(function(e){(0,r.props.updateCategory)(r.getChannelIndex(e),{channel_slug:e,code:""}),r.setState((function(t){var r=t[e];return k()({},e,On({},r,{isSelected:!0,treeId:"rootCategories",category:On({},r.category,{id:null})}))}))})),k()(y()(r),"handleInitialCategory",function(){var e=m()(l.a.mark((function e(t,n,a){var o,i,c,s,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r.props.getCategory,t){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,o(t);case 6:i=e.sent,c=i.parents.slice().reverse(),s=[].concat(u()(c),[i]),d=r.generateCategoryPath(s),r.setState((function(e){var r=e[n];return k()({},n,On({},r,{categoryPath:d,isSelected:!1,selectedOptions:s,category:On({},r.category,{id:t})}))})),r.updateFinalFormState(i,n),r.retrieveCategoryAttributes(t,n,i,a),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),r.handleInvalidCategory(n);case 18:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(t,r,n){return e.apply(this,arguments)}}()),k()(y()(r),"retrieveCategoryAttributes",function(){var e=m()(l.a.mark((function e(t,n,a,o){var i,c,s,u,d,m;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r.props,c=i.getCategory,s=i.onCategoryAttributes,t||a){e.next=4;break}return s({categoryAttributes:[],channelSlug:n},o),e.abrupt("return");case 4:if(e.prev=4,e.t0=a,e.t0){e.next=10;break}return e.next=9,c(t);case 9:e.t0=e.sent;case 10:u=e.t0,d=u.option_sets,m=u.suggest_attributes,s({categoryAttributes:d,channelSlug:n,suggestAttributes:m},o),e.next=17;break;case 15:e.prev=15,e.t1=e.catch(4);case 17:case"end":return e.stop()}}),e,null,[[4,15]])})));return function(t,r,n,a){return e.apply(this,arguments)}}()),k()(y()(r),"handleLeafSelection",(function(e,t){if(!r.getChannelCurrentTree(t).length){var n=r.generateCategoryPath(e),a=e[e.length-1],o=a.id;r.setState((function(e){var r=e[t];return k()({},t,On({},r,{isSelected:!1,categoryPath:n,lastState:{},category:On({},r.category,{id:o})}))})),r.updateFinalFormState(a,t),r.retrieveCategoryAttributes(o,t,!1)}})),k()(y()(r),"fetchCategories",function(){var e=m()(l.a.mark((function e(t,n,a){var o,i,c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.state[a],i=o.categoryTrees,c=r.props.getCategories,e.prev=3,e.next=6,c(a,n);case 6:s=e.sent,r.setState(k()({},a,On({},o,{treeId:t,categoryTrees:On({},i,k()({},t,s))}))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),r.setState(k()({},a,On({},o,{treeId:""})));case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,r,n){return e.apply(this,arguments)}}()),k()(y()(r),"handleInputChange",(function(e,t){return function(){var n=m()(l.a.mark((function n(a){var o,i,c,s;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!a.length){n.next=15;break}return o=a[a.length-1],i=o.id,n.prev=3,n.next=6,r.fetchCategories(i,i,e);case 6:c=r.getChannel(e),r.setState(k()({},e,On({},c,{selectedOptions:a}))),r.handleLeafSelection(a,e),n.next=13;break;case 11:n.prev=11,n.t0=n.catch(3);case 13:n.next=16;break;case 15:r.cleanSelectedOptions(e,!0);case 16:t&&t.current&&(s=t.current.select.menuListRef)&&(s.scrollTop=0);case 17:case"end":return n.stop()}}),n,null,[[3,11]])})));return function(e){return n.apply(this,arguments)}}()})),k()(y()(r),"handleEditClick",(function(e){return function(){r.setState((function(t){var r=t[e];return k()({},e,On({},r,{isSelected:!0,lastState:r}))})),mixpanel.track("Product - Clicked on changed category suggestion")}})),k()(y()(r),"handleCancelClick",(function(e){return function(){var t=r.state[e];r.setState((function(t){var r=t[e];return k()({},e,On({},r.lastState,{isSelected:!1}))}));var n={id:t.lastState.category.id,channel_slug:e};r.updateFinalFormState(n,e)}})),r}return j()(t,e),f()(t,[{key:"render",value:function(){var e=this,t=this.props,r=t.errorMessages,n=t.hasFixModerationError,a=!!r&&!!r.length;return o.a.createElement(T.G,{mb:11,"data-error":Yt(n)},o.a.createElement(Pr,{flexDirection:"column"},o.a.createElement(De.a,{name:gt},(function(){return Object.keys(e.channels).map((function(t,r){var n=e.getChannel(t);return e.shouldRenderCategoryInput(t)?o.a.createElement(wn,{channelSlug:t,error:n.error,isDisabled:n.isLoadingSuggestion,key:t,name:"categories[".concat(r,"]"),onCancelClick:e.handleCancelClick(t),onChange:e.handleInputChange,onMenuClose:e.handleMenuClose(t),onMenuOpen:function(){return e.cleanSelectedOptions(t,!0)},options:e.getChannelCurrentTree(t),placeholder:n.isLoadingSuggestion?bt.loadingSuggestion:bt.category,selectedOptions:n.selectedOptions,shouldOpenOnMount:e.isCategoryPreFilled(t),shouldShowCancelButton:n.isSelected&&n.categoryPath}):o.a.createElement(gn,{categoryPath:n.categoryPath,key:t,onEditClick:e.handleEditClick(t)})}))})),o.a.createElement(Fr,{top:"27px"},o.a.createElement(he,null,o.a.createElement(Ur,{variation:"news"},vt.categoriesTip),o.a.createElement(be,null,o.a.createElement("p",null,Et.categories))))),a&&o.a.createElement(Rr,{width:740,ml:"330px",mt:1},o.a.createElement(T.b,{messages:Qt(r),variation:n?"shadow":"danger"})))}}]),t}(o.a.Component);jn.defaultProps={errorMessages:[]};var Cn=jn,kn=function(e){var t=e.errorMessages,r=!!t&&!!t.length;return o.a.createElement(T.G,{mb:3},o.a.createElement(Pr,null,o.a.createElement(i.k,{name:Ge,popoverConfig:{placement:"bottomLeft"}},(function(e){var t=e.input,r=e.meta;return o.a.createElement(T.d,{mr:3,width:"226px"},o.a.createElement(T.s,{htmlFor:t.name},ft.productCode,o.a.createElement(T.z,{ml:2},ft.optional)),o.a.createElement(Rt,Te()({},t,{type:"text",id:t.name,autoComplete:"off",maxLength:32,placeholder:bt.productCode,meta:r})))})),o.a.createElement(i.k,{name:Ze,popoverConfig:{placement:"bottomLeft"}},(function(e){var t=e.input,n=e.meta;return o.a.createElement(T.d,{mr:3,width:"226px"},o.a.createElement(T.s,{htmlFor:t.name},ft.gtin),o.a.createElement(T.q,Te()({},t,{disabled:!0,type:"text",id:t.name,autoComplete:"off",maxLength:14,"data-hj-whitelist":!0,prepend:o.a.createElement(T.o,{name:"barcode-outline"}),error:r||zt(n)})))})),o.a.createElement(i.k,{name:mt,popoverConfig:{placement:"bottomLeft"}},(function(e){var t=e.input;return o.a.createElement(T.d,{mr:3,width:"226px"},o.a.createElement(T.s,{htmlFor:t.name},ft.partNumber),o.a.createElement(T.q,Te()({},t,{disabled:!0,type:"text",id:t.name,autoComplete:"off",maxLength:14})))}))),r&&o.a.createElement(Rr,{ml:"330px",width:740,mt:1},o.a.createElement(T.b,{messages:Qt(t),variation:"danger"})),o.a.createElement(Fr,null,o.a.createElement(Ue.a,{name:Ge,subscription:{active:!0,dirtySinceLastSubmit:!0,error:!0,submitError:!0,touched:!0,valid:!0}},(function(e){var t=e.meta;return o.a.createElement(o.a.Fragment,null,Nt(t)&&o.a.createElement(he,null,o.a.createElement(fe,null,vt.tip),o.a.createElement(be,null,o.a.createElement("p",null,Et.productCode))),(Wt(t)||_t(t))&&o.a.createElement(T.l,{forceDiscOnSingle:!0,messages:qt(t)}))}))))};kn.defaultProps={errorMessages:[]};var Sn=kn,Pn=function(e){var t=e.videoId,r=Fe()(e,["videoId"]);return o.a.createElement(i.G,Te()({height:"71px",options:{autoplay:1},thumbOption:"1",videoId:t,width:"130px"},r))},In=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(pe.b)(e);return t.isValid()?void 0:t.errorMessages()},Tn=function(e){var t=e.errorMessages,r=e.hasFixModerationError,n=Object(a.useState)(),c=oe()(n,2),l=c[0],s=c[1];return o.a.createElement(i.k,{name:$e,showPopover:!1,validate:In},(function(e){var n=e.input,a=e.meta,c=!!t.length;return o.a.createElement(T.G,{mb:11},o.a.createElement(Pr,null,o.a.createElement(i.l,null,o.a.createElement(T.d,{width:740},o.a.createElement(T.s,{htmlFor:n.name,"data-error":Yt(r)},ft.description),o.a.createElement(i.c,{minLength:80,maxLength:4e3,isVisited:a.visited,counterLabel:Ot(n.value.length),currentLength:n.value.length},o.a.createElement(Vt,Te()({},n,{id:n.name,autoComplete:"off",meta:a,minRows:3,maxRows:15,placeholder:bt.description,error:c&&!r||zt(a)})))),c&&o.a.createElement(Rr,null,o.a.createElement(T.b,{messages:Qt(t),variation:r?"shadow":"danger"})))),o.a.createElement(Fr,null,zt(a)&&o.a.createElement(T.l,{forceDiscOnSingle:!0,messages:qt(a)}),Nt(a,!0)&&o.a.createElement(he,null,o.a.createElement(fe,null,vt.tip),o.a.createElement(be,null,o.a.createElement("div",null,Et.description,o.a.createElement(T.d,{mt:2},o.a.createElement(Pn,{videoId:Re,onOpen:function(){s((new Date).getTime())},onClose:function(){var e=(new Date).getTime()-l;mixpanel.track("Viewed Instruction Video",{"video type":"cadastro de produto: descri\xe7\xe3o",duration:Xt(e)})}})))))))}))};Tn.defaultProps={errorMessages:[]};var Mn=Tn,Fn=function(){var e=Object(W.c)("productFieldHandlingTime").t;return o.a.createElement(i.k,{name:st,parse:ge.f,showPopover:!1},(function(t){var r=t.input,n=t.meta;return o.a.createElement(T.G,null,o.a.createElement(Pr,null,o.a.createElement(T.d,{mb:"20px",width:"100%"},e("extra dispatch period"),o.a.createElement(T.z,{ml:2},e("optional"))),o.a.createElement(i.l,null,o.a.createElement(T.d,{mr:3,width:"110px"},o.a.createElement(Rt,Te()({},r,{meta:n,autoComplete:"off",id:r.name,maxLength:3,placeholder:"0",textAlign:"center"})))),o.a.createElement(Fr,null,(n.active||n.touched)&&!_t(n)&&o.a.createElement(he,null,o.a.createElement(fe,null,e("tip")),o.a.createElement(be,null,o.a.createElement("p",null,e("Only enter an extra dispatch period if it is really necessary an additional time to operate this product.")),o.a.createElement("p",null,o.a.createElement(W.a,{ns:"productFieldHandlingTime"},"The extra dispatch period will reflect in the delivery date calculation for the end consumer."," ",o.a.createElement(T.M.Link,{target:"_blank",href:"https://get.olist.help/pt-BR/articles/983682-entenda-o-prazo-operacional-olist"},"Know more"))))),zt(n)&&o.a.createElement(T.l,{forceDiscOnSingle:!0,messages:qt(n)}))))}))},Ln=r(68),Un=function(e){return o.a.createElement(T.d,{mt:"20px"},o.a.createElement(T.M,{weight:"bold",mb:"11px"},Pt.adQualility),o.a.createElement(T.D,Te()({},e,{total:100})))};Un.defaultProps={variation:"default"};var Dn=Un,An={color:Object(T.W)("blue"),size:24},Wn=function(e){var t=e.showMoreAttributes;return o.a.createElement(o.a.Fragment,null,t&&o.a.createElement(T.o,Te()({name:"chevron-up-outline"},An)),o.a.createElement(T.M,{color:Object(T.W)("blue")},t?Pt.showFewerAttributes:Pt.showMoreAttributes),!t&&o.a.createElement(T.o,Te()({name:"chevron-down-outline"},An)))},_n=F.default.div.withConfig({componentId:"sc-7b25o5-0"})(["width:50%;"]),zn=F.default.div.withConfig({componentId:"sc-7b25o5-1"})(["width:50%;"]),qn=function(e){var t=e.isActive,r=e.theme;return Object(F.css)(["border-color:",";border-radius:","px;border-style:solid;border-width:1px;outline:none;"],t?Object(T.W)(r.colors.alternate):"rgba(0,0,0,0.05)",(function(e){return e.theme.radii[0]}))},Rn=Object(F.default)(T.n).withConfig({componentId:"sc-7b25o5-2"})([":before{content:'';margin:auto;left:0;right:0;position:absolute;height:",";width:1px;background-color:",";z-index:1;}"," border-color:",";border-radius:","px;border-style:solid;border-width:1px;position:relative;"," input{"," "," border-right:none;}"," input{"," border-top-left-radius:0;border-bottom-left-radius:0;}"," select{"," border-top-left-radius:0;border-bottom-left-radius:0;}","{width:0;}input,select{width:369px;}"],(function(e){return e.isActive?"calc(100% - 2px)":"100%"}),Object(T.W)("text","light",2),Wr,(function(e){var t=e.isActive,r=e.theme;return t?Object(T.W)(r.colors.alternate):Object(T.W)(r.colors.text,T.f,2)}),(function(e){return e.theme.radii[1]}),_n,qn,_r,zn,qn,zn,qn,Ar),Vn=Object(F.default)(T.o).withConfig({componentId:"sc-7b25o5-3"})(["margin-left:6px;"]),Bn=Object(F.default)(he).withConfig({componentId:"sc-7b25o5-4"})(["height:100%;"]),Nn=Object(F.default)(T.n).withConfig({componentId:"sc-7b25o5-5"})(["position:sticky;top:0;"]),Hn=F.default.img.withConfig({componentId:"sc-7b25o5-6"})(["animation:bounceIn 1s;margin:40px 0 0 8px;@keyframes bounceIn{0%{transform:scale(0.1);opacity:0;}60%{transform:scale(1.2);opacity:1;}100%{transform:scale(1);}}"]),Gn=Object(i.J)(T.q),$n=function(e){return Object.values(e).some((function(e){return e.meta.active}))},Zn=function(e){var t=e.name,r=e.onRemoveClick,n=e.placeholder,a=e.isRemovable,c=e.options,l=e.isKeyDisabled,s="".concat(t,".name"),u="".concat(t,".value");return o.a.createElement(i.m,{names:[s,u],subscription:{value:!0,active:!0}},(function(e){return o.a.createElement(Rn,{isActive:$n(e)},o.a.createElement(_n,null,o.a.createElement(zr,{visibilityName:ct,component:Gn,id:t,name:s,placeholder:n.key,autoComplete:"off",disabled:l})),o.a.createElement(zn,null,c.length?o.a.createElement(Ue.a,{component:$r,id:t,name:u,options:c}):o.a.createElement(i.k,{showPopover:!1,visibilityName:ct,component:Gn,id:t,name:u,placeholder:n.value,autoComplete:"off"})),o.a.createElement(i.a,{visibilityName:ct},a&&o.a.createElement(Ar,{onClick:r},o.a.createElement(Vn,{name:"close-outline",size:24}))))}))};Zn.defaultProps={options:[]};var Kn=Zn,Qn=function(e,t){return t[e].name?Pt.placeholders[Pt.placeholders.length-1]:Pt.placeholders[0]},Jn=function(e,t){return function(){e.remove(t),mixpanel.track("Product - Removed attribute")}},Yn=function(e,t){return t===e},Xn=function(e){var t=e.addOptionalAttribute,r=e.optionSets,n=Object(a.useState)(!1),c=oe()(n,2),l=c[0],s=c[1],u=Object(a.useState)(!1),d=oe()(u,2),m=d[0],p=d[1],g=Object(a.useState)({variation:"shadow",current:0}),h=oe()(g,2),f=h[0],b=h[1],v=Object(a.useState)({}),E=oe()(v,2),x=E[0],w=E[1],y=100===f.current;return o.a.createElement(T.G,{mb:8},!!r.length&&o.a.createElement(Pr,{mb:5,"data-ref":"suggested-attrs"},o.a.createElement(T.d,{width:"100%"},o.a.createElement(T.d,{mb:"5px"},ft.optionalAttributes,o.a.createElement(T.z,{ml:2},ft.optional)),o.a.createElement(De.a,{name:ct},(function(e){var t=e.fields;return p(function(e){return!(e.length<7)&&e.some((function(e,t){return!e.value&&t>=7}))}(t.value)),t.map((function(e,n){var a=n,i=t.value[a].value,c=l||a<7||i,s=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=e[t].name,a=r.find((function(e){var t=e.name;return Yn(t,n)}));return a?a.options:[]}(t.value,n,r);return c&&o.a.createElement(Kn,{key:e,isKeyDisabled:!0,name:e,options:s,placeholder:Qn(n,t.value)})}))}))),o.a.createElement(Fr,{top:"30px",height:"100%"},o.a.createElement(T.d,{height:"100%"},o.a.createElement(Bn,null,o.a.createElement(Ur,{variation:"news"},vt.optionalAttributesTip),o.a.createElement(be,null,Et.optionalAttributes,o.a.createElement(qr,{videoId:Be,options:{autoplay:1},onOpen:function(){w({initialTime:(new Date).getTime()})},onClose:function(){var e=(new Date).getTime()-x;mixpanel.track("Viewed Instruction Video",{"video type":"cadastro de produto: atributos opcionais",duration:Xt(e)})}},o.a.createElement(T.M,{fontWeight:"bold",variation:"alternate",as:"span"},Et.optionalAttributesLink))),o.a.createElement(Nn,{flexDirection:"column"},o.a.createElement(T.n,null,o.a.createElement(T.d,{width:"220px"},o.a.createElement(Dn,f)),y&&o.a.createElement(Hn,{src:Ln.i,alt:kt.party})),y&&o.a.createElement(T.M,{color:Object(T.W)("text","light")},vt.adQuality))))),m&&o.a.createElement(T.n,{alignItems:"center",flex:"1",flexDirection:"column"},o.a.createElement(T.M.Link,{textAlign:"center",onClick:function(){return s(!l)}},o.a.createElement(Wn,{showMoreAttributes:l})))),o.a.createElement(Pr,null,o.a.createElement(T.d,{width:"100%"},o.a.createElement(T.d,{mb:"5px"},ft.addNewAttribute,o.a.createElement(T.z,{ml:2},ft.optional)),o.a.createElement(De.a,{name:lt},(function(e){var t=e.fields;return t.map((function(e,r){var n=r!==t.value.length-1;return o.a.createElement(Kn,{key:e,isRemovable:n,name:e,onRemoveClick:Jn(t,r),placeholder:Qn(r,t.value),"data-ref":"manual-attribute"})}))})),o.a.createElement(i.a,{visibilityName:lt},o.a.createElement(Dr,{onClick:t,type:"button"},Pt.addNew)))),o.a.createElement(Ae.a,{name:ct},(function(e){b(function(e){var t=e.length,r=e.filter((function(e){var t=e.value;return null!==t&&void 0!==t&&!!t.toString().trim()})).length/t*100;return{current:r,variation:function(e){return e>=1&&e<50?"warning":e>=50&&e<=80?"alternate":e>80?"primary":"shadow"}(r)}}(e))})))},ea=function(e){return function(t,r){return ze()(e(t),r)}},ta=function(e){var t=e.form,r=e.priceInitialValue,n=e.isBfPriceUpLocked;return o.a.createElement(T.G,{mb:3},o.a.createElement(Pr,null,o.a.createElement(i.k,{name:ut,validate:gr(n,r,"price")},(function(e){var t=e.input,r=e.meta;return o.a.createElement(T.d,{mr:3,width:"156px"},o.a.createElement(T.s,{htmlFor:t.name},ft.singlePrice),o.a.createElement(Bt,Te()({},t,{id:t.name,meta:r,autoComplete:"off",withPlaceholder:!0})))})),o.a.createElement(i.k,{name:dt,parse:ge.f},(function(e){var t=e.input,r=e.meta;return o.a.createElement(T.d,{width:"124px"},o.a.createElement(T.s,{htmlFor:t.name},ft.stock),o.a.createElement(Rt,Te()({},t,{id:t.name,meta:r,autoComplete:"off",maxLength:7,textAlign:"center",placeholder:bt.stock})))}))),o.a.createElement(Fr,null,function(e){var t=e.getFieldState,r=ea(t),n=r(ut,"active"),a=r(dt,"active"),o=r(ut,"touched"),i=r(dt,"touched"),c=r(ut,"valid"),l=r(dt,"valid");return(n||a)&&((!o||c)&&(!i||l))}(t)&&o.a.createElement(he,null,o.a.createElement(fe,null,vt.tip),o.a.createElement(be,null,o.a.createElement("p",null,Et.price))),o.a.createElement(i.m,{names:[ut,Xe],subscription:{dirtySinceLastSubmit:!0,error:!0,submitError:!0,touched:!0,valid:!0}},(function(e){return Object.keys(e).map((function(t){var r=e[t].meta;return zt(r)?o.a.createElement(T.l,{key:t,forceDiscOnSingle:!0,messages:qt(r)}):null}))}))))};ta.defaultProps={priceInitialValue:null};var ra=ta,na=function(e){var t=e.form,r=e.isBfPriceUpLocked,n=e.priceInitialValue,a=e.offerInitialValue;return o.a.createElement(T.G,{mb:3},o.a.createElement(Pr,null,o.a.createElement(i.k,{name:Xe,validate:gr(r,n,"price")},(function(e){var t=e.input,r=e.meta;return o.a.createElement(T.d,{mr:3,width:"156px"},o.a.createElement(T.s,{htmlFor:t.name},ft.price),o.a.createElement(Bt,Te()({},t,{id:t.name,meta:r,autoComplete:"off",withPlaceholder:!0})))})),o.a.createElement(i.k,{name:ut,validate:gr(r,a,"offer")},(function(e){var t=e.input,r=e.meta;return o.a.createElement(T.d,{mr:3,width:"156px"},o.a.createElement(T.s,{htmlFor:t.name},ft.offerPrice,o.a.createElement(T.z,{ml:2},ft.optional)),o.a.createElement(Bt,Te()({},t,{id:t.name,meta:r,autoComplete:"off"})))})),o.a.createElement(i.k,{name:dt,parse:ge.f},(function(e){var t=e.input,r=e.meta;return o.a.createElement(T.d,{width:"124px"},o.a.createElement(T.s,{htmlFor:t.name},ft.stock),o.a.createElement(Rt,Te()({},t,{id:t.name,meta:r,autoComplete:"off",maxLength:7,textAlign:"center",placeholder:bt.stock})))}))),o.a.createElement(Fr,null,function(e){var t=e.getFieldState,r=ea(t),n=r(Xe,"active"),a=r(ut,"active"),o=r(dt,"active"),i=r(Xe,"touched"),c=r(ut,"touched"),l=r(dt,"touched"),s=r(Xe,"valid"),u=r(ut,"valid"),d=r(dt,"valid");return(n||a||o)&&((!i||s)&&(!c||u)&&(!l||d))}(t)&&o.a.createElement(he,null,o.a.createElement(fe,null,vt.tip),o.a.createElement(be,null,o.a.createElement("p",null,Et.price))),o.a.createElement(i.m,{names:[ut,Xe],subscription:{dirtySinceLastSubmit:!0,error:!0,submitError:!0,touched:!0,valid:!0}},(function(e){return Object.keys(e).map((function(t){var r=e[t].meta;return zt(r)?o.a.createElement(T.l,{key:t,forceDiscOnSingle:!0,messages:qt(r)}):null}))}))))};na.defaultProps={offerInitialValue:null,priceInitialValue:null};var aa=na,oa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(pe.h)(e);return t.isValid()?void 0:t.errorMessages()},ia=function(e){var t=e.errorMessages,r=e.hasFixModerationError,n=Object(a.useState)(),c=oe()(n,2),l=c[0],s=c[1];return o.a.createElement(i.k,{name:rt,showPopover:!1,validate:oa},(function(e){var n=e.input,a=e.meta,c=!!t.length;return o.a.createElement(T.G,{mb:"70px"},o.a.createElement(Pr,null,o.a.createElement(i.l,null,o.a.createElement(T.d,{width:740},o.a.createElement(T.s,{htmlFor:n.name,"data-error":Yt(r)},ft.title),o.a.createElement(i.c,{minLength:10,maxLength:60,suggestedLength:45,isVisited:a.visited,counterLabel:Ot(n.value.length),currentLength:n.value.length},o.a.createElement(Rt,Te()({},n,{type:"text",id:n.name,meta:a,autoComplete:"off",placeholder:bt.title,error:c&&!r||zt(a)})))),c&&o.a.createElement(Rr,null,o.a.createElement(T.b,{mt:1,messages:Qt(t),variation:r?"shadow":"danger"})))),o.a.createElement(Fr,null,zt(a)&&o.a.createElement(T.l,{forceDiscOnSingle:!0,messages:qt(a)}),Nt(a,!0)&&o.a.createElement(he,null,o.a.createElement(fe,null,vt.tip),o.a.createElement(be,null,o.a.createElement("div",null,Et.title,o.a.createElement(qr,{videoId:qe,options:{autoplay:1},onOpen:function(){s((new Date).getTime())},onClose:function(){var e=(new Date).getTime()-l;mixpanel.track("Viewed Instruction Video",{"video type":"cadastro de produto: t\xedtulo",duration:Xt(e)})}},o.a.createElement(T.M,{fontWeight:"bold",variation:"alternate",as:"span"},Et.optionalAttributesLink)))))))}))};ia.defaultProps={errorMessages:[]};var ca=ia,la=r(220),sa=function(e){var t=e.actionData,r=e.content,i=e.isOpen,c=e.onRequestClose,s=e.redirectUrl,u=e.submitUrl,d=e.title,p=Object(W.c)("productModalAction").t,g=Object(la.a)(m()(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.p.patch(u,t));case 1:case"end":return e.stop()}}),e)})))),h=oe()(g,2),f=h[0],b=f.error,v=f.loading,E=f.value,x=h[1];Object(a.useEffect)((function(){E&&(c(),s?window.location.assign(s):window.location.reload())}),[E]);var w=!!b;return o.a.createElement(T.v,{ariaHideApp:!1,isOpen:i,maxWidth:"570px",onRequestClose:c,shouldCloseOnOverlayClick:!1,shouldShowCloseIcon:!1,variation:"dialog"},o.a.createElement(T.n,{flexDirection:"column"},o.a.createElement(T.M.H3,{fontWeight:"bold",textAlign:"center",mb:6,"data-ref":"title"},d),o.a.createElement(T.d,{mb:5},o.a.createElement(T.M,{fontSize:3,textAlign:"center","data-ref":"content"},r)),o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),v||x()}},o.a.createElement(T.n,{flexDirection:"column",width:"245px",mx:"auto"},o.a.createElement(T.e,{disabled:v,loading:v,mb:2,type:"submit",variation:"alternate"},p("continue")),o.a.createElement(T.e,{type:"button",disabled:v,onClick:c,variation:"link","data-ref":"back-btn"},p("back")))),w&&o.a.createElement(T.n,{mt:3,"data-ref":"submit-error"},o.a.createElement(T.d,{mr:2,mt:"-3px"},o.a.createElement(T.o,{name:"alert-circle-outline",color:Object(T.W)("danger")})),o.a.createElement(T.M,{variation:"danger",fontSize:1},o.a.createElement(T.d,{"data-ref":"generic-error"},p("An internal error occurred and the action could not be completed."),o.a.createElement("br",null),p("Try again later."))))))};sa.defaultProps={redirectUrl:""};var ua=sa,da=function(e){var t=e.redirectUrl,r=Object(W.c)("productInactiveButton").t,n=Object(a.useState)(!1),i=oe()(n,2),c=i[0],l=i[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(T.e,{type:"button",icon:"close-circle-outline",onClick:function(e){e.preventDefault(),l(!0)},"data-ref":"inactive-button"},r("inactive")),o.a.createElement(ua,{actionData:{active:!1},isOpen:c,onRequestClose:function(){return l(!1)},title:r("are you sure you want to make the product inactive?"),content:r("Your product will be in the inactive products tab and will not be for sale on channels. To make it active you must open a ticket."),submitUrl:"",redirectUrl:t}))},ma=function(e){var t=e.amountModerationErrors,r=e.disabled,n=e.handleClick,a=e.loadingSave,i=e.loadingSend,c=e.productStatus,l=e.redirectUrl,s=e.wrapperRef,u=!c||"created"===c,d="moderation"===c,m=["rejected","approved"].includes(c);return o.a.createElement(T.m,{bottom:"0",left:"0",width:"100%",zIndex:1},o.a.createElement(kr,null,o.a.createElement(T.G,null,m&&o.a.createElement(da,{redirectUrl:l}),u&&o.a.createElement(T.e,{disabled:r,loading:a,onClick:n("save"),type:"submit"},ht.saveContinueLater),o.a.createElement(T.e,{disabled:d||t||r,loading:i,onClick:n("sendToReview"),type:"submit",variation:"primary"},function(e){var t={approved:ht.saveInformations,default:ht.sendForReview,rejected:ht.resendForRevision,moderation:ht.inModeration};return t[e]||t.default}(c)),!!t&&o.a.createElement(T.M.Link,{color:Object(T.W)("red"),onClick:function(){return function(e){var t=e.current.querySelector('[data-error="error-moderation"]').getBoundingClientRect(),r=window.pageYOffset;window.scrollTo({behavior:"smooth",top:t.top+r})}(s)}},ht.textAmountModerationError(t)),d&&o.a.createElement(Sr,null,o.a.createElement(T.d,null,ht.textInModeration)),o.a.createElement(Tr,null,r&&o.a.createElement(Mr,{variation:"danger"},ht.error)))))};ma.defaultProps={productStatus:void 0};var pa=ma,ga=function(e){var t=e.when,r=e.setAllFields,n=e.numbersOfFieldsRegistered;return Object(a.useEffect)((function(){t&&r("touched",!0)}),[t,n]),null};ga.propTypes={numbersOfFieldsRegistered:I.number.isRequired,setAllFields:I.func.isRequired,when:I.bool.isRequired};var ha=ga,fa=(r(461),r(462),r(463),r(277),r(119),r(166),r(105)),ba=r.n(fa),va=F.default.div.withConfig({componentId:"sc-1kp14nr-0"})(["border-radius:",";height:","px;padding:20px;width:","px;"," &:after{background-image:url(",");background-position:center;background-repeat:no-repeat;background-size:80%;content:'';height:100%;left:0;position:absolute;top:0;width:100%;","}"],Object(L.b)("radius"),n.j.height,n.j.width,(function(e){var t=e.isCover,r=e.isUploading;return e.hasUploadError&&!r?Object(F.css)(["border:2px solid ",";"],Object(T.W)("red")):t&&!r?Object(F.css)(["border:2px solid ",";"],Object(T.W)("purple")):Object(F.css)(["border:1px solid ",";"],Object(T.W)("text","light",2))}),(function(e){return e.image}),(function(e){var t=e.isUploading,r=e.hasUploadError;return(t||r)&&Object(F.css)(["opacity:0.3;"])})),Ea=F.default.i.withConfig({componentId:"sc-1kp14nr-1"})(["align-items:center;display:flex;height:24px;justify-content:center;position:relative;width:24px;z-index:1;svg{cursor:pointer;transition:all 0.15s ease-in-out;path{fill:white;}&:hover{transform:scale(1.3);transition:all 0.15s ease-in-out;}}"]),xa=Object(F.default)(T.n).withConfig({componentId:"sc-1kp14nr-2"})(["align-items:center;background:",";border-bottom-right-radius:3px;border-top-right-radius:3px;color:",";font-size:14px;height:24px;left:0;padding:0 6px 0 5px;position:absolute;top:10px;z-index:1;svg{margin-right:2px;}span{padding-bottom:3px;}"],Object(T.W)("purple"),Object(T.W)("white")),wa=Object(F.default)(T.n).withConfig({componentId:"sc-1kp14nr-3"})(["border-radius:",";bottom:0;color:",";height:100%;justify-content:center;left:0;margin:auto;opacity:0;position:absolute;right:0;top:0;transition:all 0.15s ease-in-out;width:100%;"," ",""],Object(L.b)("radius"),Object(T.W)("white"),(function(e){return e.isUploading&&Object(F.css)(["background-color:rgba(49,47,79,0.7);opacity:1;"])}),(function(e){var t=e.hasUploadError,r=e.isUploading;return t&&!r&&Object(F.css)(["background-color:rgba(255,255,255,0.8) !important;border-radius:1px;height:calc(100% - 4px);opacity:1 !important;width:calc(100% - 4px);"])})),ya=Object(F.default)(T.n).withConfig({componentId:"sc-1kp14nr-4"})(["position:absolute;align-items:center;height:100%;"]),Oa=Object(F.default)(T.n).withConfig({componentId:"sc-1kp14nr-5"})(["color:",";flex-direction:column;font-size:","px;height:100%;justify-content:center;padding:8px;position:absolute;text-align:center;"],Object(T.W)("red"),Object(L.b)("fontSizes.0")),ja=F.default.button.withConfig({componentId:"sc-1kp14nr-6"})(["color:",";font-weight:",";outline:none;text-decoration:underline;"],Object(T.W)("blue"),Object(L.b)("fontWeights.semibold")),Ca=F.default.div.withConfig({componentId:"sc-1bsftw3-0"})(["display:grid;grid-gap:20px;grid-template-columns:repeat(auto-fill,","px);grid-template-rows:","px;justify-content:space-between;",""],n.j.width,n.j.height,(function(e){return e.showActionControls&&Object(F.css)(["&:hover ","{opacity:1;background:rgba(49,47,79,0.5);transition:all 0.15s ease-in-out;}"],wa)})),ka=Object(F.default)(T.n).withConfig({componentId:"sc-1bsftw3-1"})(["height:300px;"]),Sa=F.default.div.withConfig({componentId:"sc-1bsftw3-2"})(["align-items:center;background:",";border-radius:",";border:1px dashed ",";cursor:pointer;display:flex;flex-direction:column;justify-content:center;width:100%;"],Object(T.W)("shadow","light",2),Object(L.b)("radius"),(function(e){return function(e){return e?Object(T.W)("red"):Object(T.W)("text","light",2)}(e.hasErrors)})),Pa=F.default.img.withConfig({componentId:"sc-1bsftw3-3"})(["height:137px;margin-bottom:10px;width:200px;"]),Ia=Object(F.default)(T.n).withConfig({componentId:"sc-1bsftw3-4"})(["text-align:center;min-width:200px;max-width:260px;"]),Ta=F.default.div.withConfig({componentId:"sc-1bsftw3-5"})(["line-height:2;"]),Ma=F.default.div.withConfig({componentId:"sc-1bsftw3-6"})(["svg{height:48px;width:48px;}"]),Fa=function(e){var t=e.accept,r=e.children,n=e.onDrop,a=e.hasErrors;return o.a.createElement(i.h,{accept:t,onDrop:n,multiple:!0,inputProps:{id:"image-uploader"}},o.a.createElement(Sa,{hasErrors:a},r))};Fa.defaultProps={hasErrors:!1};var La=Fa,Ua={imageNotLoad:gettext("Could not load image"),tryAgain:gettext("Try again"),or:gettext("or"),cancel:gettext("Cancel")},Da=function(e){function t(e){var r;g()(this,t);var n=(r=v()(this,x()(t).call(this,e))).props.imageFile;return r.imageUrl=n.id?n.url:URL.createObjectURL(n),r}return j()(t,e),f()(t,[{key:"componentWillUnmount",value:function(){this.props.imageFile.id||URL.revokeObjectURL(this.imageUrl)}},{key:"renderNormalThumb",value:function(){var e=this.props,t=e.hasImageUploading,r=e.isCover,n=e.isLast,a=e.moveToNext,i=e.moveToPrev,c=e.removePhoto,l=e.setCover;return o.a.createElement(o.a.Fragment,null,o.a.createElement(T.a,{top:"10px",width:"90%"},o.a.createElement(T.n,{justifyContent:"space-between"},o.a.createElement(Ea,{title:kt.setPhotoToCover},!r&&o.a.createElement(T.o,{name:"star-fill",size:20,onClick:l})),!t&&o.a.createElement(Ea,{title:kt.removePhoto},o.a.createElement(T.o,{name:"trash-outline",size:20,onClick:c})))),o.a.createElement(T.a,{bottom:"10px",width:"90%"},o.a.createElement(T.n,{justifyContent:"space-between"},o.a.createElement(Ea,{title:kt.movePhotoToPrev},!r&&!t&&o.a.createElement(T.o,{name:"chevron-left-outline",size:20,onClick:i})),!(r&&n)&&o.a.createElement(T.d,{"data-ref":"move-tip",alignSelf:"center"},Et.move),o.a.createElement(Ea,{title:kt.movePhotoToNext},!n&&!t&&o.a.createElement(T.o,{name:"chevron-right-outline",size:20,onClick:a})))))}},{key:"renderErrorThumb",value:function(){var e=this.props,t=e.imageName,r=e.removePhoto,a=e.retryUpload;return o.a.createElement(Oa,null,o.a.createElement(T.d,{mb:"10px"},o.a.createElement("p",null,o.a.createElement("span",null,Ua.imageNotLoad),o.a.createElement("strong",null," ".concat(Object(n.E)(t,{maxLength:40,position:"middle",separator:"(...)"}))))),o.a.createElement(ja,{type:"button",onClick:a,"data-ref":"retry-upload"},Ua.tryAgain),o.a.createElement("p",null,Ua.or),o.a.createElement(ja,{type:"button",onClick:r,"data-ref":"cancel-upload"},Ua.cancel))}},{key:"render",value:function(){var e=this.props,r=e.hasUploadError,n=e.isCover,a=e.isUploading;return o.a.createElement(T.G,null,o.a.createElement(va,{image:this.imageUrl,isCover:n,isUploading:a,hasUploadError:r}),n&&!r&&!a&&o.a.createElement(xa,null,o.a.createElement(T.o,{name:"star-fill",size:16,color:"white"}),o.a.createElement("span",null,Et.cover)),o.a.createElement(wa,{hasUploadError:r,isUploading:a},a&&t.renderUploadingThumb(),!a&&r&&this.renderErrorThumb(),!a&&!r&&this.renderNormalThumb()))}}],[{key:"renderUploadingThumb",value:function(){return o.a.createElement(ya,null,o.a.createElement(T.u,null))}}]),t}(a.PureComponent);Da.defaultProps={hasImageUploading:!1,hasUploadError:!1,imageName:"",isCover:!1,isLast:!1,isUploading:!1};var Aa=Da;function Wa(e){var t=function(e,t){if("object"!==ba()(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ba()(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ba()(t)?t:String(t)}function _a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function za(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_a(r,!0).forEach((function(t){k()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_a(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function qa(e,t){return Ra.apply(this,arguments)}function Ra(){return(Ra=m()(l.a.mark((function e(t,r){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<t.length)){e.next=7;break}return e.next=4,r(t[n],n,t);case 4:n+=1,e.next=1;break;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Va=function(e){function t(){var e,r;g()(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return r=v()(this,(e=x()(t)).call.apply(e,[this].concat(o))),k()(y()(r),"initialState",{errors:[],filesByImageID:{},filesSequence:[],showAlert:!1,uploadingByImageID:{},uploadErrorByImageID:{},videoStartTime:null}),k()(y()(r),"state",r.props.initialPhotos.reduce((function(e,t){return za({},e,{filesByImageID:za({},e.filesByImageID,k()({},t.id,t)),filesSequence:[].concat(u()(e.filesSequence),[t.id])})}),r.initialState)),k()(y()(r),"uppyInstance",null),k()(y()(r),"handleFileAdded",(function(e){var t=e.data.imageID;r.updateUploading(t,!0)})),k()(y()(r),"handleUploadSuccess",(function(e){var t=r.props,n=t.insertPhotoForm,a=t.updatePhotoForm,o=e.data.imageID,i=e.xhrUpload.endpoint,c=e.meta.key,l=r.findIndexInSequence(o),s=i+c,u=r.hasImageIDInUploadError(o);if(mixpanel.track("Product - Uploaded image"),u)return r.updateUploadState(o,{uploading:!1,error:!1}),void a(l,{url:s});r.updateUploading(o,!1),n(l,{url:s})})),k()(y()(r),"handleUploadError",(function(e,t){var n=e.id,a=r.props.insertPhotoForm;(mixpanel.track("Validation error",{type:"field-error",field:"image",message:t&&t.message}),r.hasImageIDInUploadError(n))||a(r.findIndexInSequence(n),void 0);r.updateUploadState(n,{uploading:!1,error:!0})})),k()(y()(r),"retryUpload",(function(e){return function(){r.uppy.retryUpload(e),r.updateUploading(e,!0)}})),k()(y()(r),"updateUploading",(function(e,t){return r.setState((function(r){return{uploadingByImageID:za({},r.uploadingByImageID,k()({},e,t))}}))})),k()(y()(r),"updateUploadError",(function(e,t){return r.setState((function(r){return{uploadErrorByImageID:za({},r.uploadErrorByImageID,k()({},e,t))}}))})),k()(y()(r),"updateUploadState",(function(e,t){var n=t.error,a=t.uploading;return r.setState((function(t){var r=t.uploadErrorByImageID,o=t.uploadingByImageID;return{uploadErrorByImageID:za({},r,k()({},e,n)),uploadingByImageID:za({},o,k()({},e,a))}}))})),k()(y()(r),"findIndexInSequence",(function(e){return r.state.filesSequence.findIndex((function(t){return t===e}))})),k()(y()(r),"hasImageIDInUploading",(function(e){return!!r.state.uploadingByImageID[e]})),k()(y()(r),"hasImageUploading",(function(){return Object.values(r.state.uploadingByImageID).includes(!0)})),k()(y()(r),"hasImageIDInUploadError",(function(e){return!!r.state.uploadErrorByImageID[e]})),k()(y()(r),"onDrop",function(){var e=m()(l.a.mark((function e(t){var a,o,i,c,s,d,p,g,h,f,b,v,E,x,w,y,O=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=O.length>1&&void 0!==O[1]?O[1]:[],o=r.state,i=o.filesByImageID,c=o.filesSequence,s=r.props.requirements,d=s.accept,p=s.maxFiles,g={},h=[],f=[],b=[],v=a.length>0,E=r.addImageIDToFiles(t),x=c.length,v&&(w=r.addImageIDToFiles(a),y=interpolate(gettext('type should be "%s"'),[d.join(", ")]),w.forEach((function(e){var t=e.name;b.push(r.formatErrorMessage(t,[y]))}))),e.next=13,qa(E,function(){var e=m()(l.a.mark((function e(t){var a,o,c,s,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object.prototype.hasOwnProperty.call(i,t.imageID)){e.next=5;break}return a=gettext("this image has already been selected"),b.push(r.formatErrorMessage(t.name,[a])),e.abrupt("return");case 5:if(!(x>=p)){e.next=9;break}return o=interpolate(gettext("this product already contains %s images"),[p]),b.push(r.formatErrorMessage(t.name,[o])),e.abrupt("return");case 9:return e.prev=9,e.next=12,r.getImageDimensions(t);case 12:if(c=e.sent,!((s=r.validateImageDimensions(c)).length>0)){e.next=17;break}return b.push(r.formatErrorMessage(t.name,s)),e.abrupt("return");case 17:e.next=24;break;case 19:return e.prev=19,e.t0=e.catch(9),d=gettext("something is wrong with this image"),b.push(r.formatErrorMessage(t.name,[d])),e.abrupt("return");case 24:r.uppy.addFile({data:t,name:t.name,type:t.type}),g=za({},g,k()({},t.imageID,t)),h=Object(n.F)([].concat(u()(h),[t.imageID])),f=[].concat(u()(f),[{url:"#"}]),x+=1;case 29:case"end":return e.stop()}}),e,null,[[9,19]])})));return function(t){return e.apply(this,arguments)}}());case 13:r.setState({filesByImageID:za({},i,{},g),filesSequence:[].concat(u()(c),u()(h)),errors:b},(function(){r.state.errors.length>0&&r.setState({showAlert:!0}),r.uppy.upload()}));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),k()(y()(r),"addImageIDToFiles",(function(e){return e.forEach((function(e){Object.assign(e,{imageID:Object(n.w)(e,"uppy")})})),e})),k()(y()(r),"setCover",(function(e){return function(){var t=r.state.filesSequence,a=r.props.movePhotoFromForm;r.setState({filesSequence:Object(n.y)(t,e,0)},(function(){a(e,0)}))}})),k()(y()(r),"moveToPrev",(function(e){return function(){var t=r.state.filesSequence,a=r.props.movePhotoFromForm,o=e-1;r.setState({filesSequence:Object(n.y)(t,e,o)},(function(){a(e,o)}))}})),k()(y()(r),"moveToNext",(function(e){return function(){var t=r.state.filesSequence,a=r.props.movePhotoFromForm,o=e+1;r.setState({filesSequence:Object(n.y)(t,e,o)},(function(){a(e,o)}))}})),k()(y()(r),"removePhoto",(function(e,t){return function(){var a=r.props.removePhotoFromForm,o=r.state,i=o.filesByImageID,c=o.filesSequence,l=(i[t],Fe()(i,[t].map(Wa)));r.setState({filesByImageID:za({},l),filesSequence:Object(n.B)(c,e)},(function(){a(e)}))}})),k()(y()(r),"getImageDimensions",(function(e){return new Promise((function(t,r){var n=new Image,a=e.size;n.onload=function(){var e=n.naturalHeight,r=n.naturalWidth;window.URL.revokeObjectURL(n.src),t({height:e,size:a,width:r})},n.onerror=function(e){r(e)},n.src=window.URL.createObjectURL(e)}))})),k()(y()(r),"validateImageDimensions",(function(e){var t=e.height,n=e.size,a=e.width,o=r.props.requirements,i=o.maxHeight,c=o.maxWidth,l=o.minHeight,s=o.minWidth,u=o.maxSize,d=u/1e6,m=[];return n>u&&m.push(interpolate(gettext("should be less or equal to %(maxSizeToMB)sMB"),{maxSizeToMB:d},!0)),(a<s||t<l)&&m.push(interpolate(gettext("should be greater or equal to %(minWidth)s x %(minHeight)s pixels"),{minWidth:s,minHeight:l},!0)),(a>c||t>i)&&m.push(interpolate(gettext("should be less or equal to %(maxWidth)s x %(maxHeight)s pixels"),{maxWidth:c,maxHeight:i},!0)),m})),k()(y()(r),"formatErrorMessage",(function(e,t){var r=t.join(", "),n=gettext("Failed to send %s: %s.");return interpolate(n,[e,r])})),k()(y()(r),"handleClose",(function(){r.setState({errors:[],showAlert:!1})})),r}return j()(t,e),f()(t,[{key:"componentWillMount",value:function(){this.uppy.on("upload-success",this.handleUploadSuccess).on("upload-error",this.handleUploadError).on("file-added",this.handleFileAdded)}},{key:"render",value:function(){var e=this,t=this.props,r=t.errorMessages,n=t.requirements,a=n.accept,i=n.maxHeight,c=n.maxWidth,l=n.minHeight,s=n.minWidth,u=n.maxSize,d=t.hasFormErrorInImage,m=t.formErrorMessages,p=t.hasFixModerationError,g=t.name,h=t.showActionControls,f=this.state,b=f.errors,v=f.filesByImageID,E=f.filesSequence,x=f.showAlert,w=f.videoStartTime,y=E.length>0,O=gettext("Image Uploader Thumb"),j=gettext("or drag the images here"),C={minimumSize:interpolate(gettext("Minimum size %(minWidth)s x %(minHeight)s pixel."),{minWidth:s,minHeight:l},!0),maximumSize:interpolate(gettext("Maximum size %(maxWidth)s x %(maxHeight)s pixel."),{maxWidth:c,maxHeight:i},!0),maximumWeight:interpolate(gettext("Maximum weight %sMB."),[u/1e6]),formats:interpolate(gettext("Allowed formats: %s."),[a.map((function(e){return e.toLowerCase()})).join(", ")]),whiteBackground:gettext("Image with white background.")},k=y||!y&&h,S=!!b.length||d;return k&&o.a.createElement(T.G,{"data-ref":"image-uploader"},o.a.createElement(Pr,null,o.a.createElement(T.d,{width:1},o.a.createElement(T.s,{htmlFor:g,"data-error":Yt(p)},ft.images),!y&&o.a.createElement(ka,null,o.a.createElement(La,{"data-ref":"full-dropzone",accept:a,onDrop:this.onDrop,hasErrors:S},o.a.createElement(Pa,{src:M.n,alt:O}),o.a.createElement(Ia,{flexDirection:"column"},o.a.createElement(T.e,{fullWidth:!0,onClick:function(e){return e.preventDefault()},variation:T.R},ht.sendImages),o.a.createElement(Ta,null,j)))),y&&o.a.createElement(Ca,{showActionControls:h},h&&o.a.createElement(La,{"data-ref":"compact-dropzone",accept:a,onDrop:this.onDrop,hasErrors:S},o.a.createElement(Ma,null,o.a.createElement(T.o,{color:Object(T.W)("text","light",1),name:"add-outline"}))),E.map((function(t,r){return o.a.createElement(Aa,{key:t,imageFile:v[t],imageName:v[t].name,isCover:0===r,isLast:r===E.length-1,moveToNext:e.moveToNext(r),moveToPrev:e.moveToPrev(r),removePhoto:e.removePhoto(r,t),cancelUpload:e.removePhoto(r,t,!1),setCover:e.setCover(r),isUploading:e.hasImageIDInUploading(t),hasImageUploading:e.hasImageUploading(),hasUploadError:e.hasImageIDInUploadError(t),retryUpload:e.retryUpload(t)})})))),!!r.length&&o.a.createElement(Rr,null,o.a.createElement(T.b,{mt:1,messages:Qt(r),variation:p?"shadow":"danger"})),b.length>0&&o.a.createElement(T.d,{width:1,mt:3},o.a.createElement(T.b,{closable:!0,messages:b,onClose:this.handleClose,show:x})),d&&o.a.createElement(T.d,{width:1,mt:3},o.a.createElement(T.b,{messages:m}))),o.a.createElement(Fr,{top:"20px"},o.a.createElement(o.a.Fragment,null,o.a.createElement(he,null,o.a.createElement(be,null,o.a.createElement("ul",null,["minimumSize","maximumSize","maximumWeight","formats","whiteBackground"].map((function(e){return o.a.createElement("li",{key:e},C[e])}))),o.a.createElement(T.d,{mt:2},o.a.createElement(Pn,{videoId:Ve,onOpen:function(){e.setState({videoStartTime:(new Date).getTime()})},onClose:function(){var e=(new Date).getTime()-w;mixpanel.track("Viewed Instruction Video",{"video type":"cadastro de produto: fotos",duration:Xt(e)})}})))))))}},{key:"uppy",get:function(){if(!this.uppyInstance){var e=this.props,t=e.requirements,r=t.accept,a=t.maxFiles,o=e.photoUploadUrl;this.uppyInstance=Object(n.G)({allowedFileTypes:r,maxFiles:a,getUploadParameters:function(e){return n.p.post(o,{filename:e.name,contentType:e.type}).then((function(e){var t=e.data;return{method:t.method,url:t.url,fields:t.fields}}))}})}return this.uppyInstance}}]),t}(a.PureComponent);Va.defaultProps={errorMessages:[],initialPhotos:[],requirements:{maxFiles:void 0,maxHeight:void 0,maxSize:void 0,maxWidth:void 0,minHeight:void 0,minWidth:void 0},hasFormErrorInImage:!1,formErrorMessages:[],showActionControls:!0};var Ba=Va,Na=Object(F.default)(T.n).withConfig({componentId:"x6y9q7-0"})(["justify-content:space-between;margin:10px auto;"]),Ha=Object(F.default)(T.q).withConfig({componentId:"x6y9q7-1"})(["width:100px;"]),Ga=(Object(F.default)(T.n).withConfig({componentId:"x6y9q7-2"})(["","{border-top-right-radius:0;border-bottom-right-radius:0;}"],Ha),Object(F.default)(T.d).withConfig({componentId:"x6y9q7-3"})(["margin-right:16px;max-width:164px;&:last-child{margin-right:0;}"])),$a=Object(i.J)(T.q),Za=Qe,Ka=ot,Qa=Ke,Ja=at,Ya=o.a.memo((function(e){var t=e.name,r=e.removePackage,n=e.lengthUnit,a=e.weightUnit,c=e.isRemovable,l="".concat(t,".").concat(Za),s="".concat(t,".").concat(Ka),u="".concat(t,".").concat(Qa),d="".concat(t,".").concat(Ja);return o.a.createElement(T.G,null,o.a.createElement(Na,null,o.a.createElement(T.n,null,o.a.createElement(Ga,null,o.a.createElement(T.s,{htmlFor:l},ft.length),o.a.createElement(i.k,{visibilityName:Ye,component:$a,id:l,name:l,append:n,autoComplete:"off",parse:ge.d,format:Ht,placeholder:"0.00"})),o.a.createElement(Ga,null,o.a.createElement(T.s,{htmlFor:s},ft.width),o.a.createElement(i.k,{visibilityName:Ye,component:$a,id:s,name:s,append:n,autoComplete:"off",parse:ge.d,format:Ht,placeholder:"0.00"})),o.a.createElement(Ga,null,o.a.createElement(T.s,{htmlFor:u},ft.height),o.a.createElement(i.k,{visibilityName:Ye,component:$a,id:u,name:u,append:n,autoComplete:"off",parse:ge.d,format:Ht,placeholder:"0.00"}))),o.a.createElement(T.n,null,o.a.createElement(Ga,null,o.a.createElement(T.s,{htmlFor:d},ft.weight),o.a.createElement(i.k,{visibilityName:Ye,component:$a,id:d,name:d,append:a,autoComplete:"off",parse:ge.d,format:Ht,placeholder:"0.00"}))),o.a.createElement(i.a,{visibilityName:ct},c&&o.a.createElement(T.a,{bottom:"11px",right:"-30px"},o.a.createElement(Ar,{onClick:r},o.a.createElement(T.o,{name:"close-outline",size:24}))))))})),Xa=(r(465),function(e){var t=e.activeMeasure,r=e.measure,n=e.theme;return r===t?Object(T.W)(n.colors.alternate):Object(T.W)(n.colors.shadow)}),eo=Object(F.default)(T.a).withConfig({componentId:"sc-1az87mf-0"})(["color:",";text-transform:uppercase;"],Xa),to=F.default.path.withConfig({componentId:"sc-1az87mf-1"})(["stroke:",";stroke-width:2;stroke-miterlimit:10;stroke-linecap:round;stroke-linejoin:round;"],(function(e){var t=e.theme;return Object(T.W)(t.colors.shadow)})),ro=F.default.path.withConfig({componentId:"sc-1az87mf-2"})(["fill:",";stroke:",";stroke-width:",";fill-rule:evenodd;clip-rule:evenodd;"],Xa,Xa,(function(e){var t=e.activeMeasure;return e.measure===t?1:0})),no=function(e){var t=e.activeMeasure;return o.a.createElement(T.G,null,o.a.createElement("svg",{width:"166",height:"94",viewBox:"0 0 166 94",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement(to,{d:"M76.8953 40.8114L13.5371 21.7554"}),o.a.createElement(to,{d:"M76.8956 86.0846V41.1755"}),o.a.createElement(to,{d:"M13.5371 21.7554L13.7799 64.4797L76.8953 85.4777"}),o.a.createElement(to,{d:"M76.8956 40.8115L151.056 10.9531"}),o.a.createElement(to,{d:"M76.8956 85.4779L150.935 51.4926L151.056 10.9531"}),o.a.createElement(to,{d:"M63.7869 9.01093L56.8531 11.3774"}),o.a.createElement(to,{d:"M151.056 10.9528L91.4607 1"}),o.a.createElement(to,{d:"M76.8953 40.326L103.81 22.6047L43.2742 8.34301L13.5371 21.7555"}),o.a.createElement(to,{d:"M151.056 10.9528L116.706 20.056L53.955 6.94742L91.4602 1"}),o.a.createElement(ro,{measure:"length",activeMeasure:t,d:"M155.564 54.8438C155.65 54.5814 155.933 54.4387 156.195 54.525L165.42 57.5594C165.682 57.6457 165.825 57.9283 165.738 58.1906C165.652 58.4529 165.369 58.5956 165.107 58.5094L160.758 57.0788L87.8717 90.4155L91.2613 91.5453C91.5233 91.6326 91.6649 91.9158 91.5775 92.1778C91.4902 92.4397 91.207 92.5813 90.9451 92.494L81.8419 89.4596C81.5799 89.3723 81.4383 89.0891 81.5257 88.8271C81.613 88.5652 81.8961 88.4236 82.1581 88.5109L86.4811 89.9519L159.36 56.6188L155.882 55.475C155.62 55.3887 155.477 55.1061 155.564 54.8438Z"}),o.a.createElement(ro,{measure:"width",activeMeasure:t,d:"M9.13701 69.0059C9.25161 69.2571 9.14084 69.5537 8.8896 69.6683L6.56194 70.73L68.2839 91.2644L71.5899 89.7564C71.8412 89.6418 72.1378 89.7526 72.2524 90.0038C72.367 90.2551 72.2562 90.5516 72.005 90.6662L65.0865 93.822C64.8353 93.9366 64.5387 93.8258 64.4241 93.5746C64.3095 93.3234 64.4203 93.0268 64.6715 92.9122L66.9479 91.8738L5.22593 71.3394L1.97117 72.8241C1.71993 72.9387 1.42336 72.8279 1.30876 72.5767C1.19416 72.3254 1.30493 72.0288 1.55617 71.9142L4.82144 70.4248C4.90021 70.3518 5.0011 70.3055 5.10843 70.2939L8.4746 68.7585C8.72584 68.6439 9.02241 68.7546 9.13701 69.0059Z"}),o.a.createElement(ro,{measure:"height",activeMeasure:t,d:"M0.0706624 16.5143C0.149585 16.2497 0.428085 16.0992 0.692709 16.1781L3.89108 17.132C3.90979 17.1299 3.92881 17.1288 3.94809 17.1288C4.06969 17.1288 4.18115 17.1722 4.26783 17.2443L7.61114 18.2415C7.87576 18.3204 8.0263 18.5989 7.94738 18.8635C7.86845 19.1281 7.58995 19.2787 7.32533 19.1998L4.44809 18.3416V60.2652L7.61114 61.2086C7.87576 61.2875 8.0263 61.566 7.94738 61.8306C7.86845 62.0953 7.58995 62.2458 7.32533 62.1669L0.406904 60.1035C0.14228 60.0246 -0.00826048 59.7461 0.0706624 59.4815C0.149585 59.2168 0.428085 59.0663 0.692709 59.1452L3.44809 59.967V18.0434L0.406904 17.1364C0.14228 17.0574 -0.00826048 16.7789 0.0706624 16.5143Z"})),o.a.createElement(eo,{measure:"length",activeMeasure:t,top:"70px",left:"130px"},ft.length.charAt(0)),o.a.createElement(eo,{measure:"width",activeMeasure:t,top:"79px",left:"27px"},ft.width.charAt(0)),o.a.createElement(eo,{measure:"height",activeMeasure:t,top:"27px",left:"-10px"},ft.height.charAt(0)))};no.defaultProps={activeMeasure:void 0};var ao=no,oo=F.default.div.withConfig({componentId:"n3g0ue-0"})(["min-height:",";margin-bottom 5px;"],"160px");function io(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function co(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?io(r,!0).forEach((function(t){k()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):io(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var lo=function(e){return u()(new Set(e))},so=function(e){var t=e.activeMeasureField;return o.a.createElement(o.a.Fragment,null,o.a.createElement(oo,null,t&&o.a.createElement(Ue.a,{name:t.name,subscription:{active:!0,touched:!0,valid:!0}},(function(e){var r=e.meta,n=r.active,a=r.touched,i=r.valid;return n&&(!a||i)&&o.a.createElement(he,null,o.a.createElement(fe,null,vt.tip),o.a.createElement(be,null,o.a.createElement("p",null,Et.packagesMeasures),o.a.createElement(ao,{activeMeasure:t.measure})))})),o.a.createElement(Ue.c,{subscription:{touched:!0}},(function(e){var r=e.touched;return o.a.createElement(Ue.a,{name:Ye,subscription:{error:!0}},(function(e){var n=e.meta.error,a=Ye,i=Qe,c=ot,l=Ke,s=at,d=n&&n.reduce((function(e,t,n){var o=function(e){return r["".concat(a,"[").concat(n,"].").concat(e)]},d=o(i),m=o(c),p=o(l),g=o(s),h=m&&p&&d,f=d?ze()(t,i,[]):[],b=m?ze()(t,c,[]):[],v=p?ze()(t,l,[]):[],E=g?ze()(t,s,[]):[],x=h?ze()(t,"size",[]):[];return co({},e,{length:lo([].concat(u()(e.length),u()(f))),width:lo([].concat(u()(e.width),u()(b))),height:lo([].concat(u()(e.height),u()(v))),size:lo([].concat(u()(e.size),u()(x))),weight:lo([].concat(u()(e.weight),u()(E)))})}),co({},{length:[],width:[],height:[],size:[],weight:[]})),m=d&&Object.values(d).reduce((function(e,t){return[].concat(u()(e),u()(t))}),[]),p=o.a.createElement(T.l,{forceDiscOnSingle:!0,messages:m});return t?t&&o.a.createElement(Ue.a,{name:t.name},(function(e){var t=e.meta,r=t.touched,n=t.valid;return r&&!n&&p})):p}))}))),o.a.createElement(i.m,{names:[tt,Ye],subscription:{value:!0}},(function(e){var t=e[tt].input.value,r=e[Ye].input.value;return o.a.createElement(o.a.Fragment,null,1===r.length&&t&&o.a.createElement(Ue.a,{name:"".concat(Ye,"[0].").concat(He),subscription:{active:!0,touched:!0,valid:!0,error:!0}},(function(e){var t=e.input,r=e.meta,n=r.active,a=r.touched,i=r.valid,c=r.error;return o.a.createElement(o.a.Fragment,null,n&&(!a||i)&&o.a.createElement(he,null,o.a.createElement(fe,null,vt.tip),o.a.createElement(be,null,o.a.createElement("p",null,Et[t.name])),o.a.createElement("img",{src:M.u,alt:"packages with products"})),a&&!i&&o.a.createElement(T.l,{forceDiscOnSingle:!0,messages:c}))})))})))};so.defaultProps={activeMeasureField:void 0};var uo=o.a.memo(so),mo=function(e,t){return function(){e.remove(t),mixpanel.track("Product - Removed package")}},po=function(e){var t=e.activeMeasureField,r=e.addPackage;return o.a.createElement(T.G,null,o.a.createElement(Pr,null,o.a.createElement(T.d,{width:"100%"},o.a.createElement(T.M.H4,{mb:5},jt.title),o.a.createElement(T.d,{mb:"20px"},jt.subtitle),o.a.createElement(De.a,{name:Ye,validate:dr},(function(e){var t=e.fields;return t.map((function(e,r){return o.a.createElement(Ya,{key:e,name:e,removePackage:mo(t,r),lengthUnit:rr[t.value[r].length_unit],weightUnit:nr[t.value[r].weight_unit],isRemovable:0!==r})}))})),o.a.createElement(T.d,{mb:"28px"},o.a.createElement(i.a,{visibilityName:ct},o.a.createElement(Dr,{type:"button",onClick:r},jt.addNew))))),o.a.createElement(Fr,{top:"48px"},o.a.createElement(uo,{activeMeasureField:t})))};po.defaultProps={activeMeasureField:void 0};var go=po,ho=Object(i.J)(T.q),fo=Object(i.J)(T.h),bo=He,vo=Ye,Eo=tt,xo=function(){var e=Object(a.useState)(!1),t=oe()(e,2),r=t[0],n=t[1];return o.a.createElement(Ue.a,{name:vo,subscription:{value:!0,error:!0}},(function(e){var t=e.input.value,a=e.meta.error,c=t[0].weight_value&&t[0].weight_value.replace(/,/g,"."),l=t[0].weight_unit,s=t[0].capacity,u=a&&a[0].capacity&&s>0&&c>0;return 1===t.length&&o.a.createElement(T.G,{mb:"35px"},o.a.createElement(Pr,null,o.a.createElement(T.d,null,o.a.createElement(T.d,{pb:"10px"},o.a.createElement(i.k,{visibilityName:bo,component:fo,type:"checkbox",id:Eo,name:Eo,label:ft.productsInPackage,onClick:function(){return n(!0)}})),o.a.createElement(i.d,{when:Eo,is:!0},o.a.createElement(T.n,{alignItems:"center"},o.a.createElement(T.d,{width:"160px"},o.a.createElement(i.k,{autoFocus:r,visibilityName:bo,component:ho,name:"".concat(vo,"[0].").concat(bo),autoComplete:"off",append:yt(s),parse:ge.f,placeholder:bt.productsInPackage,maxLength:"6"})),u&&o.a.createElement(T.n,{alignItems:"center",ml:3,"data-ref":"balance"},o.a.createElement("img",{src:Ln.b,alt:"balance"}),o.a.createElement(T.M,{color:Object(T.W)("red"),ml:1},function(e,t,r){return parseFloat(e*r).toFixed(2).replace(/[.,]00$/,"")+t}(c,l,s))))))))}))},wo=Object(i.J)(T.q),yo=Qe,Oo=ot,jo=Ke,Co=at,ko=function(e){var t=e.name,r=e.lengthUnitValue,n=e.weightUnitValue,a="".concat(t,".").concat(yo),c="".concat(t,".").concat(Oo),l="".concat(t,".").concat(jo),s="".concat(t,".").concat(Co);return o.a.createElement(T.G,null,o.a.createElement(Na,null,o.a.createElement(T.n,null,o.a.createElement(Ga,null,o.a.createElement(T.s,{htmlFor:a},ft.length),o.a.createElement(i.k,{visibilityName:t,component:wo,id:a,name:a,append:r,autoComplete:"off",parse:ge.d,format:Ht,placeholder:"0.00"})),o.a.createElement(Ga,null,o.a.createElement(T.s,{htmlFor:c},ft.width),o.a.createElement(i.k,{visibilityName:t,component:wo,id:c,name:c,append:r,autoComplete:"off",parse:ge.d,format:Ht,placeholder:"0.00"})),o.a.createElement(Ga,null,o.a.createElement(T.s,{htmlFor:l},ft.height),o.a.createElement(i.k,{visibilityName:t,component:wo,id:l,name:l,append:r,autoComplete:"off",parse:ge.d,format:Ht,placeholder:"0.00"}))),o.a.createElement(T.n,null,o.a.createElement(Ga,null,o.a.createElement(T.s,{htmlFor:s},ft.productWeight),o.a.createElement(i.k,{visibilityName:t,component:wo,id:s,name:s,append:n,autoComplete:"off",parse:ge.d,format:Ht,placeholder:"0.00"})))))},So=F.default.path.withConfig({componentId:"wfiknk-0"})(["stroke-linecap:round;stroke-linejoin:round;stroke-width:2px;stroke:",";"],(function(e){var t=e.theme;return Object(T.W)(t.colors.alternate)})),Po=function(e){var t=e.activeMeasure;return o.a.createElement(T.G,null,o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"235",height:"146",viewBox:"0 0 235 146",fill:"none"},"weight"===t?o.a.createElement(So,{d:"M23.785 85.9819L1 94.58L87.841 140.58L229.71 66.6361L198.757 59.7576"}):o.a.createElement(o.a.Fragment,null,o.a.createElement(ro,{measure:"height",activeMeasure:t,d:"M4.38383 44.5209C4.11921 44.442 3.84071 44.5926 3.76178 44.8572C3.68286 45.1218 3.8334 45.4003 4.09803 45.4792L4.38383 44.5209ZM10.0023 47.2402C10.2669 47.3191 10.5454 47.1685 10.6243 46.9039C10.7033 46.6393 10.5527 46.3608 10.2881 46.2819L10.0023 47.2402ZM4.38404 93.1373C4.11941 93.0584 3.84091 93.2089 3.76199 93.4735C3.68307 93.7382 3.83361 94.0167 4.09823 94.0956L4.38404 93.1373ZM10.0025 95.8565C10.2671 95.9354 10.5456 95.7849 10.6245 95.5203C10.7035 95.2556 10.5529 94.9771 10.2883 94.8982L10.0025 95.8565ZM7.6414 45.8536C7.6414 45.5774 7.41754 45.3536 7.1414 45.3536C6.86525 45.3536 6.6414 45.5774 6.6414 45.8536H7.6414ZM6.6414 94.4455C6.6414 94.7216 6.86525 94.9455 7.1414 94.9455C7.41754 94.9455 7.6414 94.7216 7.6414 94.4455H6.6414ZM4.09803 45.4792L10.0023 47.2402L10.2881 46.2819L4.38383 44.5209L4.09803 45.4792ZM4.09823 94.0956L10.0025 95.8565L10.2883 94.8982L4.38404 93.1373L4.09823 94.0956ZM6.6414 45.8536V94.4455H7.6414V45.8536H6.6414Z"}),o.a.createElement(ro,{measure:"length",activeMeasure:t,d:"M104.248 140.326C103.986 140.238 103.703 140.38 103.616 140.642C103.528 140.904 103.67 141.187 103.932 141.274L104.248 140.326ZM111.701 143.864C111.963 143.951 112.246 143.81 112.333 143.548C112.421 143.286 112.279 143.003 112.017 142.915L111.701 143.864ZM226.284 71.2113C226.022 71.125 225.739 71.2677 225.653 71.53C225.567 71.7924 225.709 72.075 225.972 72.1612L226.284 71.2113ZM233.844 74.7508C234.106 74.8371 234.389 74.6944 234.475 74.4321C234.561 74.1698 234.419 73.8872 234.156 73.8009L233.844 74.7508ZM107.685 141.23C107.445 141.366 107.359 141.671 107.495 141.911C107.63 142.152 107.935 142.237 108.176 142.102L107.685 141.23ZM230.213 73.4021C230.454 73.2666 230.539 72.9618 230.404 72.7211C230.268 72.4805 229.964 72.3952 229.723 72.5307L230.213 73.4021ZM103.932 141.274L111.701 143.864L112.017 142.915L104.248 140.326L103.932 141.274ZM225.972 72.1612L233.844 74.7508L234.156 73.8009L226.284 71.2113L225.972 72.1612ZM108.176 142.102L230.213 73.4021L229.723 72.5307L107.685 141.23L108.176 142.102Z"}),o.a.createElement(ro,{measure:"width",activeMeasure:t,d:"M96.6456 142.973C96.8968 142.858 97.0076 142.561 96.893 142.31C96.7784 142.059 96.4818 141.948 96.2306 142.063L96.6456 142.973ZM90.3263 144.756C90.0751 144.871 89.9643 145.167 90.0789 145.418C90.1935 145.67 90.4901 145.78 90.7413 145.666L90.3263 144.756ZM11.2061 105.424C11.4573 105.31 11.5681 105.013 11.4535 104.762C11.3389 104.511 11.0423 104.4 10.7911 104.514L11.2061 105.424ZM4.88683 107.208C4.6356 107.322 4.52483 107.619 4.63943 107.87C4.75403 108.121 5.0506 108.232 5.30184 108.117L4.88683 107.208ZM93.6516 143.832C93.9053 143.941 94.1994 143.824 94.3085 143.57C94.4176 143.317 94.3003 143.023 94.0467 142.913L93.6516 143.832ZM8.70559 106.217C8.45191 106.108 8.15783 106.225 8.04874 106.479C7.93966 106.732 8.05688 107.026 8.31056 107.135L8.70559 106.217ZM96.2306 142.063L90.3263 144.756L90.7413 145.666L96.6456 142.973L96.2306 142.063ZM10.7911 104.514L4.88683 107.208L5.30184 108.117L11.2061 105.424L10.7911 104.514ZM94.0467 142.913L8.70559 106.217L8.31056 107.135L93.6516 143.832L94.0467 142.913Z"}))),"weight"===t?o.a.createElement(T.a,{top:"2px",right:"47px"},o.a.createElement("img",{src:M.B,"data-ref":"weight-symbol",alt:kt.weightSymbol})):o.a.createElement(o.a.Fragment,null,o.a.createElement(eo,{measure:"length",activeMeasure:t,top:"105px",left:"175px"},ft.length.charAt(0)),o.a.createElement(eo,{measure:"width",activeMeasure:t,top:"127px",left:"36px"},ft.width.charAt(0)),o.a.createElement(eo,{measure:"height",activeMeasure:t,top:"60px",left:"-10px"},ft.height.charAt(0))),o.a.createElement(T.a,{top:"0",left:"20px"},o.a.createElement("img",{src:M.d,alt:kt.boat})))};Po.defaultProps={activeMeasure:void 0};var Io=Po,To=function(e){var t=e.activeMeasureField;return o.a.createElement(o.a.Fragment,null,t&&o.a.createElement(Ue.a,{name:t.name,subscription:{active:!0,touched:!0,valid:!0}},(function(e){var r=e.meta,n=r.active,a=r.touched,i=r.valid;return n&&(!a||i)&&o.a.createElement(he,null,o.a.createElement(fe,null,vt.tip),o.a.createElement(be,null,o.a.createElement("p",null,Et.productMeasures),o.a.createElement(Io,{activeMeasure:t.measure})))})),o.a.createElement(i.m,{names:["product_measures.length_value","product_measures.width_value","product_measures.height_value","product_measures.weight_value"],subscription:{dirtySinceLastSubmit:!0,error:!0,submitError:!0,touched:!0,valid:!0}},(function(e){var r=function(t){return e["product_measures.".concat(t,"_value")].meta.error||e["product_measures.".concat(t,"_value")].meta.submitError},n=["length","width","height","weight"].find((function(t){return function(t){return e["product_measures.".concat(t,"_value")].meta.touched}(t)&&r(t)&&!function(t){return e["product_measures.".concat(t,"_value")].meta.dirtySinceLastSubmit}(t)})),a=n?o.a.createElement(T.l,{forceDiscOnSingle:!0,messages:[r(n)]}):null;return t?t&&o.a.createElement(Ue.a,{name:t.name,subscription:{touched:!0,valid:!0}},(function(e){var t=e.meta,r=t.touched,n=t.valid;return r&&!n&&a})):a})))};To.defaultProps={activeMeasureField:void 0};var Mo=To,Fo=function(e){var t=e.activeMeasureField;return o.a.createElement(i.n,{visibilityName:et},o.a.createElement(T.G,null,o.a.createElement(Lr,{top:"28px"},o.a.createElement(Mo,{activeMeasureField:t})),o.a.createElement(Ir,null,o.a.createElement(T.d,{width:"100%"},o.a.createElement(T.d,{mb:"20px"},Ct.title),o.a.createElement(Ue.a,{name:et,validate:ur},(function(e){var t=e.input,r=t.disabled,n=t.name,a=t.value;return o.a.createElement(ko,{disabled:r,name:n,lengthUnitValue:rr[a[Je]],weightUnitValue:nr[a[nt]]})}))))))};Fo.displayName="FieldProductMeasures",Fo.defaultProps={activeMeasureField:void 0};var Lo=Fo,Uo=function(e){var t=e.isOpen,r=e.onRequestClose,i=e.price,c=e.submitFn,s=Object(W.c)("productModalConfirmPriceVariation").t,u=Object(a.useState)(!1),d=oe()(u,2),p=d[0],g=d[1],h=function(){var e=m()(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,c();case 3:g(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=Object(n.x)(Number(i.old)),b=Object(n.x)(Number(i.new));return o.a.createElement(T.v,{variation:"dialog",isOpen:t,onRequestClose:r,ariaHideApp:!1,maxWidth:"585px"},o.a.createElement(T.d,null,o.a.createElement(T.M.H3,{fontWeight:"bold"},s("confirm new price")),o.a.createElement(T.M,{color:Object(T.W)("text","light")},s("Discount is above 50% and we need you to confirm the change.")),o.a.createElement(T.n,{flexDirection:"column",alignItems:"center",mt:4},o.a.createElement(T.M.H3,null,o.a.createElement(T.M,{as:"span",color:Object(T.W)("white","inverter"),fontWeight:"bold"},s("From R$ {{fromPrice}}",{fromPrice:f})),o.a.createElement(T.o,{name:"chevron-right-outline",size:24}),o.a.createElement(T.M,{as:"span",color:Object(T.W)("yellow"),fontWeight:"bold"},s("To R$ {{toPrice}}",{toPrice:b}))),o.a.createElement(T.c,{pill:!0,variation:"light",border:"1px solid ".concat(Object(T.W)("shadow","light",0)),color:Object(T.W)("yellow","dark",0),mb:7,mt:2},s("{{percentage}}% of discount",{percentage:i.percentage})),o.a.createElement(T.d,{width:"208px"},o.a.createElement(T.e,{disabled:p,loading:p,variation:"primary",fullWidth:!0,onClick:h},s("confirm"))))))};Uo.defaultProps={price:{new:"",old:"",percentage:""}};var Do=Uo,Ao=function(e){return function(){var t=m()(l.a.mark((function t(r,a){var o,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={channel_slug:r,category_id:a},t.next=3,n.p.get(e,{params:o});case 3:return i=t.sent,t.abrupt("return",i.data);case 5:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()},Wo=function(e){return function(){var t=m()(l.a.mark((function t(r){var a,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={category_id:r},t.next=3,n.p.get(e,{params:a});case 3:return o=t.sent,t.abrupt("return",o.data);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},_o=function(e){return function(){var t=m()(l.a.mark((function t(r,a,o,i){var c,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={channel:i,title:r,description:a,brand:o},t.next=3,n.p.get(e,{params:c});case 3:return s=t.sent,t.abrupt("return",s.data);case 5:case"end":return t.stop()}}),t)})));return function(e,r,n,a){return t.apply(this,arguments)}}()};function zo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zo(r,!0).forEach((function(t){k()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zo(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Object(pe.g)({brand:{filled:gettext("Insert the product brand"),maxWords:gettext("The product brand must be up to ${arg0} words")},description:{filled:gettext("Insert the description"),minLength:gettext("The description must be at least ${arg0} characters"),maxLength:gettext("The description must contain a maximum of ${arg0} characters")},fieldNames:{packageCapacity:gettext("package capacity"),packageHeight:gettext("package height"),packageLength:gettext("package length"),packageSize:gettext("package measures"),packageWeight:gettext("package weight"),packageWidth:gettext("package width")},packageCapacity:It,packageHeight:It,packageLength:It,packageSize:It,packageWeight:It,packageWidth:It,price:{greaterThan:interpolate(gettext('The "%s" should be greater than ${arg0}'),[ft.price])},title:{filled:gettext("Insert the title"),minLength:gettext("The title must be at least ${arg0} characters"),maxLength:gettext("The title must contain a maximum of ${arg0} characters")}});var Ro=rt,Vo=Ne,Bo=$e,No=Ye,Ho=tt,Go=et,$o=ct,Zo=it,Ko=pt,Qo=gt,Jo=lt,Yo=function(e){return{category:Qo,variations:Zo}[e]||e},Xo=function(e){function t(){var e,r;g()(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return r=v()(this,(e=x()(t)).call.apply(e,[this].concat(o))),k()(y()(r),"state",{attributes:{},suggestedAttributes:[],showModalPriceVariation:!1,modalPriceVariation:{price:{old:"",new:""}}}),k()(y()(r),"moderatedFields",Object.keys(r.props.moderationErrors.field_errors||{}).reduce((function(e,t){var r=Yo(t);return["comments","categories","attributes","photos","brand"].includes(r)?e:qo({},e,k()({},r,!1))}),{})),k()(y()(r),"optionalAttributesInitialLength",1),k()(y()(r),"getCategories",Ao(r.props.categoriesUrl)),k()(y()(r),"getCategory",Wo(r.props.categoryUrl)),k()(y()(r),"getSuggestion",_o(r.props.suggestionUrl)),k()(y()(r),"suggestionTriggerFields",[Ro,Vo,Bo]),k()(y()(r),"customProduct",$t(Zt(r.props.product,r.optionalAttributesInitialLength,r.props.channels))),k()(y()(r),"handlePriceVariationState",(function(e,t,n,a){return r.setState({modalPriceVariation:{price:{new:e,old:t,percentage:n},submitFn:a}})})),k()(y()(r),"openModalPriceVariation",(function(){return r.setState({showModalPriceVariation:!0})})),k()(y()(r),"closeModalPriceVariation",(function(){return r.setState({showModalPriceVariation:!1})})),k()(y()(r),"handlePriceVariation",(function(e,t,n){var a=sr(e.price),o=sr(t.price),i=sr(e.offerPrice),c=sr(t.offerPrice),l=er(o,a),s=er(c,i);return hr(a,o,50)?(r.openModalPriceVariation(),r.handlePriceVariationState(o,a,l,n),!1):!hr(i,c,50)||(r.openModalPriceVariation(),r.handlePriceVariationState(c,i,s,n),!1)})),k()(y()(r),"amountModerationErrors",(function(){return Object.keys(r.moderatedFields).filter((function(e){return!r.moderatedFields[e]})).length})),k()(y()(r),"setModeratedField",(function(e){var t=e.label,n=e.value,a=Object.keys(r.moderatedFields).includes(t);r.moderatedFields[t]!==n&&a&&(r.moderatedFields=qo({},r.moderatedFields,k()({},t,n)))})),k()(y()(r),"getFlatAttributes",(function(){return Kt(Object.values(r.state.attributes))})),k()(y()(r),"getSuggestedAttributes",(function(){return Kt(r.state.suggestedAttributes)})),k()(y()(r),"updateFormAttributeState",(function(e,t){var n=r.getFlatAttributes(),a=e.getState().values[Zo],o=t?[]:a.reduce((function(e,t,r){return!n.find((function(e){return e.name===t.name}))?[].concat(u()(e),[r]):e}),[]),i=n.filter((function(e){return!a.find((function(t){return e.name===t.name}))})).map((function(e){return{name:e.name,value:void 0}}));e.mutators.removeBatch(Zo,o),e.mutators.merge(Zo,i)})),k()(y()(r),"handleAttributeChange",(function(e,t,n,a){r.setState((function(r){return{attributes:qo({},r.attributes,k()({},t,e))}}),(function(){return r.updateFormAttributeState(n,a)}))})),k()(y()(r),"getSuggestedAttributesFiltered",(function(e,t){var n=r.getOptionalAttributes(e);return t.map((function(e){var t=e.name,r=e.options,a=n.find((function(e){return e.name===t})),o={name:t,options:r,suggest:!0,value:null};return a?qo({},o,{value:a.value}):o}))})),k()(y()(r),"getManualAttributesFiltered",(function(e,t){return t.filter((function(t){return!e.find((function(e){return e.name===t.name}))}))})),k()(y()(r),"getInitialOptionalAttributes",(function(e){return e.getState().values[Jo]})),k()(y()(r),"assignItemToFinalForm",(function(e,t,r){e.change(r,t)})),k()(y()(r),"getOptionalAttributes",(function(e){return Kt(e.getState().values[$o])})),k()(y()(r),"handleSuggestedAttributes",(function(e,t){var n=r.getInitialOptionalAttributes(e),a=r.getManualAttributesFiltered(t,n);r.assignItemToFinalForm(e,a,Jo);var o=t.map((function(e){return{name:e.name,suggest:!0,options:e.options}})),i=r.getSuggestedAttributesFiltered(e,o);r.setState({suggestedAttributes:o}),r.assignItemToFinalForm(e,i,$o)})),k()(y()(r),"handleAddOptionalAttribute",(function(e){return function(){e.mutators.push(Jo,{name:"",value:""}),mixpanel.track("Product - Added new attribute")}})),k()(y()(r),"shouldGetSuggestions",(function(e){return r.suggestionTriggerFields.every((function(t){return e[t].input.value&&e[t].input.value.length&&!e[t].meta.active}))})),k()(y()(r),"isTriggerFieldActive",(function(e){return r.suggestionTriggerFields.some((function(t){return e[t].meta.active}))})),k()(y()(r),"handleAddPackage",(function(e){return function(){e.mutators.push(No,qo({},Ft)),mixpanel.track("Product - Added new package")}})),k()(y()(r),"handleCategories",(function(e,t,n){var a=e.categoryAttributes,o=e.channelSlug,i=e.suggestAttributes;return"mercadolivre"===o&&r.handleSuggestedAttributes(n,i),r.handleAttributeChange(a,o,n,t)})),k()(y()(r),"onSubmit",function(){var e=m()(l.a.mark((function e(t){var a,o,i,c,s,d,p,g,h,f,b,v,E;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=[].concat(t[$o]).concat(t[Jo]).filter((function(e){var t=e.name,r=e.value;return t&&r})).map((function(e){return{name:e.name,value:e.value}})),i=qo({},t,(a={},k()(a,Qo,t.categories.filter((function(e){return e.code}))),k()(a,Ko,t.photos.reduce((function(e,t){return void 0!==t?[].concat(u()(e),[qo({},t,{counter:e.length})]):e}),[])),k()(a,$o,o),a)),c=r.props,s=c.redirectUrl,d=c.submitUrl,p=c.isEdition,g=c.enablePriceVariation,h=c.product,f=p?"put":"post",b=function(){var e=m()(l.a.mark((function e(){var t,a,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.closeModalPriceVariation(),e.prev=1,e.next=4,n.p[f](d,qo({},i));case 4:return e.abrupt("return",window.location.assign(s));case 7:if(e.prev=7,e.t0=e.catch(1),(t=e.t0.response)&&t.data&&500!==t.status){e.next=14;break}return a="Something went wrong. Please try again or contact the support.",mixpanel.track("Validation error",{message:a,type:"message"}),e.abrupt("return",k()({},Le.b,gettext(a)));case 14:return o=t.data.messages,mixpanel.track("Validation error",{messages:o}),e.abrupt("return",o);case 17:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),!p||!g){e.next=10;break}if(v={price:i.price,offerPrice:i.offer_price},E={price:h.price,offerPrice:h.offer_price},r.handlePriceVariation(E,v,b)){e.next=10;break}return e.abrupt("return",!1);case 10:return e.abrupt("return",b());case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),k()(y()(r),"onFormActionsClick",(function(e){return function(t){return function(){var r="Product - Clicked on ".concat("save"===t?"save":'"send to review"'," product");e.change("action",t),mixpanel.track(r,{type:"Manual product"})}}})),r}return j()(t,e),f()(t,[{key:"render",value:function(){var e,t=this,r=this.props,a=r.channels,c=r.visibilities,l=r.photoUploadUrl,s=r.product,u=r.moderationErrors,d=r.isBfPriceUpLocked,m=r.isEdition,p=r.enablePriceVariation,g=r.redirectUrl,h=this.state,f=h.modalPriceVariation,b=h.showModalPriceVariation,v=this.getFlatAttributes(),E=this.getSuggestedAttributes(),x=c&&c[Ko]&&c[Ko].status,w="hidden"===x||"disabled"===x,y=this.context.features.includes("single_pricing"),O=u.field_errors,j=void 0===O?{}:O,C=o.a.createRef();return o.a.createElement(Ue.b,{onSubmit:this.onSubmit,initialValues:qo((e={},k()(e,No,[qo({},Ft)]),k()(e,Ko,[]),k()(e,Go,qo({},Ft)),k()(e,Ho,!1),k()(e,Zo,[]),e),this.customProduct),initialValuesEqual:function(){return!0},mutators:qo({},We.a,{},ge.a,{},ge.b),render:function(e){var r=e.handleSubmit,h=e.form,x=e.initialValues,O=e.hasValidationErrors,k=e.submitFailed,S=e.dirtySinceLastSubmit,P=e.values,I=e.submitting,T=e.submitError,M=e.hasSubmitErrors;return o.a.createElement(i.o.Provider,{value:c},o.a.createElement(Or,null,o.a.createElement("form",{onSubmit:r,ref:C},o.a.createElement(wr,{moderationErrors:u,submitError:T}),o.a.createElement(jr,null,vt.informations),o.a.createElement(Sn,{errorMessages:j.gtin}),o.a.createElement(ca,{errorMessages:j.title,hasFixModerationError:t.moderatedFields[Ro]}),o.a.createElement(tn,{errorMessages:j.brand,hasFixModerationError:!0}),y?o.a.createElement(ra,{form:h,priceInitialValue:x.price,isBfPriceUpLocked:d}):o.a.createElement(aa,{form:h,priceInitialValue:x.price,offerInitialValue:x.offer_price,isBfPriceUpLocked:d}),o.a.createElement(Mn,{errorMessages:j.description,hasFixModerationError:t.moderatedFields[Bo]}),o.a.createElement(Ue.a,{name:Ko,validate:mr,subscription:{error:!0,submitFailed:!0}},(function(e){var t=e.input,r=e.meta;return o.a.createElement(Ba,{requirements:{accept:[n.c.extension,n.d.extension,n.h.extension,n.l.extension],minHeight:600,minWidth:600,maxHeight:2500,maxWidth:2500,maxSize:1e7,maxFiles:10},initialPhotos:x[t.name],mergePhotosFromForm:function(e){return h.mutators.merge(t.name,e)},movePhotoFromForm:function(e,r){return h.mutators.move(t.name,e,r)},removePhotoFromForm:function(e){return h.mutators.remove(t.name,e)},insertPhotoForm:function(e,r){return h.mutators.insert(t.name,e,r)},updatePhotoForm:function(e,r){return h.mutators.update(t.name,e,r)},photoUploadUrl:l,hasFormErrorInImage:r.submitFailed&&r.error&&!!r.error.length,formErrorMessages:r.error&&!!r.error.length&&r.error,name:t.name,showActionControls:!w,errorMessages:j.photos,hasFixModerationError:!0})})),o.a.createElement(Cr,null),o.a.createElement(jr,null,vt.category),o.a.createElement(i.m,{names:t.suggestionTriggerFields,subscription:{value:!0,active:!0}},(function(e){return o.a.createElement(Cn,{channels:a,getCategories:t.getCategories,getCategory:t.getCategory,getSuggestion:t.getSuggestion,isTriggerFieldActive:t.isTriggerFieldActive(e),onCategoryAttributes:function(e,r){var n=e.categoryAttributes,a=e.channelSlug,o=e.suggestAttributes;t.handleCategories({categoryAttributes:n,channelSlug:a,suggestAttributes:o},r,h)},updateCategory:function(e,t){return h.mutators.update(Qo,e,t)},product:t.customProduct,shouldGetSuggestions:t.shouldGetSuggestions(e),valuesForSuggestion:e,errorMessages:j.category,hasFixModerationError:!0})})),o.a.createElement(Cr,null),o.a.createElement(jr,null,vt.technicalSheet),o.a.createElement(De.a,{name:Zo},(function(e){var t=e.fields;return!!v.length&&o.a.createElement(Yr,{fields:t,optionsets:v,shouldShowTip:At(h,Zo),errorMessages:j.variations,hasFixModerationError:!0})})),o.a.createElement(Xn,{addOptionalAttribute:t.handleAddOptionalAttribute(h),optionSets:E}),o.a.createElement(Cr,null),o.a.createElement(jr,{maxWidth:"210px"},vt.send),o.a.createElement(Lo,{activeMeasureField:Dt(h.getState().active,Go)}),o.a.createElement(go,{activeMeasureField:Ut(h.getState().active,No),addPackage:t.handleAddPackage(h)}),o.a.createElement(xo,null),o.a.createElement(Fn,null),o.a.createElement(ha,{numbersOfFieldsRegistered:h.getRegisteredFields().length,setAllFields:h.mutators.setAllFields,when:("rejected"===s.status||"created"===s.status)&&O}),o.a.createElement(pa,{disabled:O&&k||M&&!S,handleClick:t.onFormActionsClick(h),loadingSave:"save"===P.action&&I,loadingSend:"sendToReview"===P.action&&I,productStatus:s.status,redirectUrl:g,amountModerationErrors:t.amountModerationErrors(),wrapperRef:C}),m&&p&&o.a.createElement(Do,Te()({isOpen:b,onRequestClose:t.closeModalPriceVariation},f)),Object.keys(t.moderatedFields).map((function(e){return o.a.createElement(Ae.a,{name:e,key:e},(function(r){t.setModeratedField({label:e,value:Jt(r,x[e])})}))})))))}})}}]),t}(o.a.Component);Xo.defaultProps={product:{},moderationErrors:wr.defaultProps.moderationErrors,isBfPriceUpLocked:!1},Xo.contextType=n.k;var ei=Xo,ti=i.x.Container,ri=i.x.Title,ni=i.x.SubHeader,ai=function(e){var t=e.moderationErrors,r=e.packageTipsUrl,c=e.packageWeightIsInvalid,l=e.product,s=e.suggestChangeUrl,u=Fe()(e,["moderationErrors","packageTipsUrl","packageWeightIsInvalid","product","suggestChangeUrl"]),d=Object(W.c)("productProductPage").t,m=!!l.sku,p=Object(a.useContext)(n.k).features.includes("change_request"),g="rejected"===l.status;return function(e){var t="Product - Viewed ".concat(e?"edit":"manual creation"," page");mixpanel.track(t)}(m),o.a.createElement(ti,null,o.a.createElement(ni,null,o.a.createElement(ri,null,d("new product"))),g&&o.a.createElement(i.b,{description:d("Review and correct the registration as provided by the review team."),highlight:!0,icon:"alert-outline",title:d("correct product register"),variation:"danger",mt:"-14px",mb:4}),m&&p&&o.a.createElement(i.b,{title:d("suggest change in product registration"),description:d("Submit suggestions for improvement and await review by the review team."),action:o.a.createElement(T.t,{href:s,target:"_blank"},d("suggest change")),highlight:!0,icon:"edit-outline",variation:"alternate",mb:5,"data-ref":"card-feedback"}),c&&o.a.createElement(i.q,{pb:40},o.a.createElement(i.q.Title,null,o.a.createElement(T.o,{name:"alert-circle-outline",color:Object(T.W)("alternate")}),o.a.createElement("h5",null,d("Awaiting negotiation with carrier"))),o.a.createElement("p",null,Object(ge.s)(d('The product contains measures that can not be transported by available logistics operators. Keep registering the products to negotiate new partners. Learn more about carriers in the <a href="{{packageTipsUrl}}" target="_blank">Help Center</a>',{packageTipsUrl:r})))),o.a.createElement(ei,Te()({},u,{moderationErrors:t,product:l,isEdition:m})))};ai.defaultProps={moderationErrors:{field_errors:{},comments:[]},packageTipsUrl:"",packageWeightIsInvalid:!1,product:{}};var oi=ai,ii=r(51),ci=r(89),li=function(e){var t=e.paths,r=Object(W.c)("productImportMainHeader").t;return o.a.createElement(i.x.Container,null,o.a.createElement(T.d,{my:4},o.a.createElement(i.x.Title,null,r("import products"))),o.a.createElement(T.L.Link,null,o.a.createElement(T.J.Link,null,o.a.createElement(ii.c,{to:t.import,exact:!0},r("send spreadsheet"))),o.a.createElement(T.J.Link,null,o.a.createElement(ii.c,{to:t.status},r("track status")))))},si=r(490),ui=r(487),di=F.default.p.withConfig({componentId:"sc-1mr4f54-0"})(["color:",";font-size:","px;margin-bottom:","px;"],Object(T.W)("text","primary"),Object(L.b)("fontSizes.3"),Object(L.b)("space.2")),mi=Object(F.default)(T.M).attrs({fontWeight:"bold",mb:2}).withConfig({componentId:"sc-1mr4f54-1"})([""]),pi=Object(F.default)(T.c).attrs({variation:"news",ml:2}).withConfig({componentId:"sc-1mr4f54-2"})(["user-select:none;"]),gi=F.default.p.withConfig({componentId:"sc-1mr4f54-3"})(["color:",";font-size:","px;"],Object(T.W)("text","light"),Object(L.b)("fontSizes.2")),hi=Object(F.default)(T.t).attrs({mt:4}).withConfig({componentId:"sc-1mr4f54-4"})([""]),fi=(F.default.p.withConfig({componentId:"sc-1mr4f54-5"})(["color:",";font-size:","px;margin-top:","px;"],Object(T.W)("text","light"),Object(L.b)("fontSizes.1"),Object(L.b)("space.3")),function(e){var t=e.hasFeatureMassImport,r=e.sheetTemplateUrl,n=e.sheetTipsUrl,c=e.shortSheetTemplateUrl,l=Fe()(e,["hasFeatureMassImport","sheetTemplateUrl","sheetTipsUrl","shortSheetTemplateUrl"]),s=Object(W.c)("productImportTips").t,u=Object(ui.a)("import-page-visits",0),d=oe()(u,2),m=d[0],p=d[1],g=m<3;Object(a.useEffect)((function(){m<3&&t&&p(m+1)}),[]);var h=o.a.createElement(o.a.Fragment,null,o.a.createElement(gi,null,s("We will register the products of our catalog in draft, so you speed up the registration and do not need to send the complete data of all products in the spreadsheet.")," ",o.a.createElement(i.i,{label:"smiling face",symbol:"\ud83d\ude42"})),o.a.createElement(gi,null,s("Then you can send the complete data of the products that we do not yet have in our catalog.")));return o.a.createElement(T.d,Te()({width:1,maxWidth:"515px"},l),o.a.createElement(di,null,"1. ".concat(s("Download spreadsheet"))),t&&o.a.createElement(o.a.Fragment,null,o.a.createElement(T.d,{mt:7,"data-ref":"reduced-spreadsheet-section"},o.a.createElement(T.n,null,o.a.createElement(mi,null,s("Uncomplicated product registration")),o.a.createElement(T.C,{active:g,content:h,noBorder:!1,placement:"right",variation:"news",width:"426px"},o.a.createElement(pi,null,s("new")))),o.a.createElement(gi,null,s("Send in the spreadsheet the bar codes, stock, price and internal code (optional), it does not have to be the complete registration. We will consult our catalog and create a draft of your products on the platform.")),o.a.createElement(hi,{href:c,icon:"download-outline",variation:T.R},s("download short spreadsheet"))),o.a.createElement(i.E,{my:6},s("or you can send the spreadsheet with all the data."))),o.a.createElement(T.d,{mb:7},t&&o.a.createElement(mi,null,s("Total product registration")),o.a.createElement(gi,null,o.a.createElement(W.a,{ns:"productImportTips"},"Download the ",o.a.createElement("strong",null,"olist")," spreadsheet to register all products. Do not forget to enable macros.")),o.a.createElement(hi,{href:r,icon:"download-outline",variation:t?T.T:T.R},s("download olist spreadsheet"))),o.a.createElement(di,null,"2. ".concat(s("Fill spreadsheet"))),o.a.createElement(gi,null,o.a.createElement(W.a,{ns:"productImportTips"},"After downloading, enable the macros and fill the spreadsheets, with up to 500 products each."," ",o.a.createElement(T.M.Link,{href:n,target:"_blank",display:"block"},"tips on importing products"))))});fi.defaultProps={hasFeatureMassImport:!1};var bi=fi,vi=Object(F.default)(T.d).withConfig({componentId:"ojouhd-0"})(["border:2px solid ",";min-height:458px;"],Object(T.W)("shadow","light")),Ei=F.default.div.withConfig({componentId:"ojouhd-1"})(["color:",";font-size:","px;margin-bottom:","px;"],Object(T.W)("text","primary"),Object(L.b)("fontSizes.3"),Object(L.b)("space.2")),xi=F.default.p.withConfig({componentId:"ojouhd-2"})(["color:",";"],Object(T.W)("text","light")),wi=Object(F.default)(T.n).withConfig({componentId:"ojouhd-3"})(["height:267px;margin-top:40px;"]),yi=F.default.div.withConfig({componentId:"ojouhd-4"})(["align-items:center;background:",";border-radius:",";border:1px dashed ",";cursor:pointer;display:flex;flex-direction:column;justify-content:center;width:100%;"],Object(T.W)("shadow","light",2),Object(L.b)("radius"),Object(T.W)("text","light",2)),Oi=F.default.img.withConfig({componentId:"ojouhd-5"})(["height:124px;margin-bottom:10px;width:88px;"]),ji=Object(F.default)(T.n).withConfig({componentId:"ojouhd-6"})(["flex-direction:column;text-align:center;width:190px;"]),Ci=F.default.p.withConfig({componentId:"ojouhd-7"})(["color:",";cursor:pointer;font-size:","px;"],Object(T.W)("blue"),Object(L.b)("fontSizes.3")),ki=F.default.input.withConfig({componentId:"ojouhd-8"})(["display:none;"]),Si=Object(F.default)(T.n).withConfig({componentId:"ojouhd-9"})(["align-items:center;flex-direction:column;padding:0 30px;text-align:center;"]),Pi=F.default.p.withConfig({componentId:"ojouhd-10"})(["color:",";font-size:","px;margin-bottom:","px;span{display:block;font-weight:",";line-height:1;}"],Object(T.W)("green"),Object(L.b)("fontSizes.4"),Object(L.b)("space.3"),Object(L.b)("fontWeights.bold")),Ii=F.default.p.withConfig({componentId:"ojouhd-11"})(["color:",";margin-bottom:40px;max-width:400px;strong{color:",";}"],Object(T.W)("text","light"),Object(T.W)("blue","dark")),Ti=Object(F.default)(T.d).withConfig({componentId:"ojouhd-12"})(["a{font-size:inherit;color:",";}"],Object(T.W)("blue")),Mi=function(e){function t(){var e,r;g()(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return r=v()(this,(e=x()(t)).call.apply(e,[this].concat(o))),k()(y()(r),"state",{hasInvalidFileSize:!1,isPosted:r.props.sheetPosted,isUploading:!1}),k()(y()(r),"submitRef",Object(a.createRef)()),k()(y()(r),"onDrop",(function(e){e.length&&(r.isInvalidFileSize(e[0])?r.setState({hasInvalidFileSize:!0}):(r.submitRef.current.click(),r.setState({hasInvalidFileSize:!1,isUploading:!0})))})),k()(y()(r),"isInvalidFileSize",(function(e){return e.size>3145728})),k()(y()(r),"showUpload",(function(e){e.preventDefault(),r.setState({hasInvalidFileSize:!1,isUploading:!1,isPosted:!1})})),r}return j()(t,e),f()(t,[{key:"render",value:function(){var e=this.state,t=e.hasInvalidFileSize,r=e.isUploading,a=e.isPosted,c=this.props,l=c.errors,s=c.sellerEmail,u=c.sheetValidationUrl,d=c.t,m=l.length>0,p=(m||!a)&&!r,g=r,h=!m&&a,f=m&&!r,b=o.a.createElement(W.a,{ns:"productImportUpload"},o.a.createElement("strong",null,"Errors found in uploaded spreadsheet.")," ",o.a.createElement("a",{href:u,target:"_blank",rel:"noopener noreferrer"},"Know more"));return o.a.createElement("form",{encType:"multipart/form-data",method:"post"},o.a.createElement(vi,{p:5,width:"670px"},p&&o.a.createElement(T.d,null,o.a.createElement(Ei,null,"3. ".concat(d("Import spreadsheet"))),o.a.createElement(xi,null,d("Send the completed spreadsheet up to 3MB.")),o.a.createElement(wi,null,o.a.createElement(i.h,{accept:[n.m.extension,n.o.extension],inputProps:{name:"import_file"},multiple:!1,onDrop:this.onDrop},o.a.createElement(yi,null,o.a.createElement(Oi,{src:M.o,alt:"import icon"}),o.a.createElement(ji,null,d("just drop the file here or"),o.a.createElement(Ci,null,d("click to load"))))),o.a.createElement(ki,{ref:this.submitRef,type:"submit"}))),g&&o.a.createElement(T.n,null,o.a.createElement(T.d,{mr:2,mt:"5px"},o.a.createElement(i.z,null)),o.a.createElement(T.d,null,o.a.createElement(Ei,null,d("Importing spreadsheet")),o.a.createElement(xi,null,d("This may take a few seconds. Please wait.")))),h&&o.a.createElement(Si,null,o.a.createElement(T.p,{src:M.i,alt:"","aria-hidden":"true",mb:5,mt:4}),o.a.createElement(Pi,null,d("Spreadsheet imported successfully"),o.a.createElement("span",null,d("Wait, products are being created."))),o.a.createElement(Ii,null,o.a.createElement(W.a,{ns:"productImportUpload"},"We will send an email to ",o.a.createElement(T.M,{as:"strong"},{sellerEmail:s})," once the creation is complete.")),o.a.createElement(T.n,null,o.a.createElement(T.d,null,o.a.createElement(T.e,{variation:T.T,onClick:this.showUpload},d("import new spreadsheet"))),o.a.createElement(T.d,{ml:4},o.a.createElement(ii.b,{title:d("track import status"),to:"/status/"},o.a.createElement(T.e,{type:"button",variation:"alternate"},d("track import status")))))),t&&o.a.createElement(T.d,{mt:"8px"},o.a.createElement(T.b,{title:o.a.createElement(W.a,{ns:"productImportUpload"},o.a.createElement("strong",null,"Your spreadsheet is larger than the 3MB limit"),". Try to compress the file in .zip, or split the data in another spreadsheet, and send again.")})),f&&o.a.createElement(Ti,{mt:"8px"},1===l.length&&o.a.createElement(T.b,{title:b,description:l}),l.length>1&&o.a.createElement(T.b,{title:b,messages:l}))))}}]),t}(a.Component),Fi=Object(W.d)("productImportUpload")(Object(i.H)(Mi)),Li=function(e){var t=e.errors,r=e.sellerEmail,c=e.sheetPosted,l=e.sheetTemplateUrl,s=e.sheetTipsUrl,u=e.sheetValidationUrl,d=e.shortSheetTemplateUrl,m=e.title,p=Object(a.useContext)(n.k).features.includes("mass_import");return Object(si.a)(m),o.a.createElement(i.x.Container,null,o.a.createElement(T.n,{justifyContent:"space-between",my:5},o.a.createElement(T.d,{width:5/12,pb:7},o.a.createElement(bi,{hasFeatureMassImport:p,sheetTemplateUrl:l,sheetTipsUrl:s,shortSheetTemplateUrl:d})),o.a.createElement(T.d,{pl:5},o.a.createElement(Fi,{errors:t,sellerEmail:r,sheetPosted:c,sheetValidationUrl:u}))))};Li.defaultProps={errors:[],sheetTipsUrl:"#",sheetValidationUrl:"#"};var Ui=Li,Di=r(495),Ai=r(112),Wi=function(){var e=Object(W.c)("productBlankStateImportStatus").t;return o.a.createElement(i.F,{imgSrc:M.h,title:e("No spreadsheets sent"),subtitle:o.a.createElement(T.d,null,e("Did new products arrive? Register and increase your sales")," ",o.a.createElement(i.i,{label:"money-mouth",symbol:"\ud83e\udd11"}),o.a.createElement(T.d,{mt:5},o.a.createElement(ii.b,{to:"/"},o.a.createElement(T.e,{type:"button"},e("send spreadsheet")))))})},_i=function(e){var t=e.variation,r=e.value;return 0!==r?o.a.createElement(T.n,{alignItems:"center"},o.a.createElement(T.c,{circle:!0,size:"small",variation:t}),o.a.createElement(T.M,{ml:2},r)):"-"};_i.defaultProps={value:0};var zi=function(e){var t=e.failure;return o.a.createElement(_i,{value:t,variation:"danger"})};zi.defaultProps={failure:0};var qi=function(e){var t=e.processed;return o.a.createElement(_i,{value:t,variation:"alternate"})};qi.defaultProps={processed:0};var Ri=function(e){var t=e.createdAt,r=e.failure,n=e.sheetId,a=Object(W.c)("productImportStatusColumns").t,i=new Date(t).getTime();return o.a.createElement(T.n,{width:"1",justifyContent:"center",minHeight:"44px",alignItems:"center"},r>0?o.a.createElement(ii.b,{title:a("view details"),to:"/status/".concat(n,"?created_at=").concat(i)},o.a.createElement(T.e,{type:"button"},a("view details"))):"-")};Ri.defaultProps={createdAt:0,failure:0};var Vi=Ri,Bi=zi,Ni=function(e){var t=e.urlMyProducts,r=Object(W.c)("productImportStatusColumns").t;return o.a.createElement(T.n,{alignItems:"center"},r("processed items"),o.a.createElement(T.d,{ml:2,mt:"-3px"},o.a.createElement(T.C,{placement:"top",content:o.a.createElement(T.d,{lineHeight:"1.5",fontSize:"16px"},o.a.createElement(T.M,null,r("processed items")),o.a.createElement(T.M.Small,{mt:1,color:"textLight"},o.a.createElement(W.a,{ns:"productImportStatusColumns"},"these items are already available in"," ",o.a.createElement(T.M.Link,{href:t,target:"_blank"},"my products")," ","page"))),trigger:"hover",width:290},o.a.createElement(T.o,{name:"info-circle-outline",color:"blue"}))))},Hi=qi,Gi=function(e){var t=e.status,r=Object(W.c)("productImportStatusColumns").t;return{processed:o.a.createElement(T.c,{variation:"alternate"},r("processed")),pending:o.a.createElement(T.c,{variation:"inactive"},r("processing"))}[t]||"-"};function $i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Zi=function(e){var t=e.data,r=e.isLoading,a=e.hasError,c=e.retryFetch,l=e.urlMyProducts,s=Object(W.c)("productDataTableImportStatus").t,u=t.map((function(e){var t=e.batch_items_stats,r=t.total,n=t.failure,a=t.processed,o=e.created_at,i=e.id;return{createdAt:o,id:i,key:i,failure:n,processed:a,total:r,status:e.status}})),d=[{title:s("spreadsheet sent in"),dataIndex:"createdAt",render:function(e){return Object(n.D)(e,ge.r,!0," \u2022 ")}},{title:s("total items sent"),dataIndex:"total"},{title:o.a.createElement(Ni,{urlMyProducts:l}),dataIndex:"processed",render:function(e){return o.a.createElement(Hi,{processed:e})}},{title:s("failed items"),dataIndex:"failure",render:function(e){return o.a.createElement(Bi,{failure:e})}},{title:s("status"),dataIndex:"status",render:function(e){return o.a.createElement(Gi,{status:e})}},{title:o.a.createElement(T.d,{width:"1",textAlign:"center"},s("action")),dataIndex:"id",render:function(e,t){var r=t.createdAt,n=t.failure;return o.a.createElement(Vi,{createdAt:r,failure:n,sheetId:e})}}].map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$i(r,!0).forEach((function(t){k()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$i(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{key:e.dataIndex})})),m=t.length;return o.a.createElement(i.f,{columns:d,dataSource:u,paginate:{count:m,amountPerPage:25,onChange:function(){},customPaginationText:function(){return s("displaying the last {{count}} items",{count:m})}},fallbacks:{isLoading:r,hasError:a,minHeight:"480px",error:o.a.createElement(Ai.a,{onClick:function(){return c()}}),blank:o.a.createElement(Wi,{onClick:function(){}})}})};Zi.defaultProps={data:[],urlMyProducts:"/products/",hasError:!1,isLoading:!1,retryFetch:function(){}};var Ki=Zi,Qi=function(e){var t=e.title,r=e.urlBatchesImportStatus,a=e.urlMyProducts;Object(si.a)(t);var c=Object(Di.a)(m()(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.p.get(r);case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)}))),[r]),s=c.loading,u=c.error,d=c.value,p=c.retry;return o.a.createElement(i.x.Container,null,o.a.createElement(T.d,{my:6},o.a.createElement(Ki,{data:d&&d.results,urlMyProducts:a,hasError:!!u,isLoading:s,retryFetch:p})))};Qi.defaultProps={urlBatchesImportStatus:"/products/batches/",urlMyProducts:"/products/"};var Ji=Qi,Yi=r(489),Xi=r(13),ec="productImportStatusDetailUtils",tc=function(e){return{"GTIN not found in Products-API and Catalogs-API":Object(Xi.b)("Barcode not found on our database. You need to register the complete product.",{ns:ec}),brand:Object(Xi.b)("Brand",{ns:ec}),description:Object(Xi.b)("Description",{ns:ec}),gtin:Object(Xi.b)("Barcode",{ns:ec}),name:Object(Xi.b)("Title",{ns:ec}),package_measures:Object(Xi.b)("Package measures",{ns:ec}),part_number:Object(Xi.b)("Part number",{ns:ec}),photos:Object(Xi.b)("Photos",{ns:ec}),prices:Object(Xi.b)("Price",{ns:ec}),product_measures:Object(Xi.b)("Product measures",{ns:ec}),stock:Object(Xi.b)("Stock",{ns:ec})}[e]||Object(Xi.b)("Other",{ns:ec})},rc=function(e){var t=e.title;return o.a.createElement(T.M,{width:"360px",truncate:!0},t||"-")};rc.defaultProps={title:""};var nc=function(e){var t=e.status,r=Object(W.c)("productImportStatusDetailColumns").t;return{processed:o.a.createElement(T.c,{variation:"alternate"},r("processed")),pending:o.a.createElement(T.c,{variation:"inactive"},r("processing")),failure:o.a.createElement(T.c,{variation:"danger"},r("failed"))}[t]||"-"},ac=rc;function oc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ic(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oc(r,!0).forEach((function(t){k()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oc(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var cc=function(e){var t=e.data,r=e.isLoading,n=e.hasError,a=e.retryFetch,c=e.paginate,l=Object(W.c)("productDataTableImportStatusDetail").t,s=t.map((function(e){var t=e.raw_data,r=e.id,n=e.error_message,a=e.status,o=t.gtin,i=t.name,c=t.part_number,l=function(e){try{return JSON.parse(e)}catch(t){return e}}(n);return{errorMessage:"object"===ba()(l)?Object.keys(JSON.parse(n)).map((function(e){return tc(e)})).join(", "):tc(n),gtin:o,key:r,name:i,partNumber:c,status:a}})),u=[{title:l("product title"),dataIndex:"name",style:{width:"380px"},render:function(e){return o.a.createElement(ac,{title:e})}},{title:"gtin",dataIndex:"gtin",style:{width:"200px"},render:function(e){return e||"-"}},{title:"part number",dataIndex:"partNumber",style:{width:"200px"},render:function(e){return e||"-"}},{title:l("status"),dataIndex:"status",style:{width:"120px"},render:function(e){return o.a.createElement(nc,{status:e})}},{title:l("errors"),dataIndex:"errorMessage"}].map((function(e){return ic({},e,{key:e.dataIndex})}));return o.a.createElement(i.f,{columns:u,dataSource:s,fallbacks:{isLoading:r,hasError:n,minHeight:"480px",error:o.a.createElement(Ai.a,{onClick:function(){return a()}}),blank:o.a.createElement(Wi,{onClick:function(){}})},paginate:ic({},c,{customPaginationText:function(e){var t=c.amountPerPage,r=c.count,n=c.currentPage;return l("showing {{start}} to {{end}} of {{count}} items",{start:t*(n-1)+1,end:e,count:r})}})})};cc.defaultProps={data:[],hasError:!1,isLoading:!1,retryFetch:function(){}};var lc=cc,sc=function(e){var t=e.title,r=e.urlImportStatusDetail,c=Object(W.c)("productProductImportStatusDetailPage").t;Object(si.a)(t);var s=Object(a.useState)(0),u=oe()(s,2),d=u[0],p=u[1],g=Number(Object(Yi.a)("created_at")),h=Number(new URLSearchParams(Object(ci.h)().search).get("page")),f=Object(ci.i)().sheetId,b=Object(Di.a)(m()(l.a.mark((function e(){var t,a,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={batch:f,status:"failure",paginate_by:25,page:h||1},e.next=3,n.p.get(r,{params:t});case 3:return a=e.sent,(o=a.data)&&o.count&&p(o.count),e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)}))),[r,h]),v=b.loading,E=b.error,x=b.value,w=b.retry;Object(a.useEffect)((function(){window.scrollTo(0,0)}),[h]);var y=Object(ci.g)(),O=new Date(g),j=O.getTime()>0?Object(n.D)(O.toISOString(),ge.r,!0," \u2022 "):"",C="".concat(c("Spreadsheet")," ").concat(j).trim();return o.a.createElement(i.x.Container,{my:4},o.a.createElement(T.d,null,o.a.createElement(ii.b,{to:"/status/"},o.a.createElement(T.e,{icon:"chevron-left-outline",type:"button"},c("back to list"))),o.a.createElement(T.M.H2,{"data-ref":"page-title",mt:5,mb:3},C),o.a.createElement(T.b,{variation:"alternate",mb:3},o.a.createElement(T.n,{alignItems:"center"},o.a.createElement(T.d,{mr:2,mt:"-3px"},o.a.createElement(T.o,{name:"alert-circle-outline"})),o.a.createElement(W.a,{ns:"productProductImportStatusDetailPage"},"Fix the fields with errors and send a new spreadsheet. See tips for correction on",o.a.createElement(T.M.Link,{href:"https://get.olist.help/pt-BR/articles/4189416-saiba-como-corrigir-os-erros-na-importacao-de-produtos-usando-a-planilha",target:"_blank",ml:1},"our article"),".")))),o.a.createElement(lc,{data:x&&x.results,hasError:!!E,isLoading:v,retryFetch:w,paginate:{count:d,currentPage:h||1,amountPerPage:25,onChange:function(e){var t={page:e.currentPage,created_at:g},r=Object(n.A)(t);y.push("/status/".concat(f,"?").concat(r))}}}))};sc.defaultProps={urlImportStatusDetail:"/products/batch-items/"};var uc=sc,dc={basename:"/products/import/",import:"/",status:"/status/",statusDetail:"/status/:sheetId"},mc=function(e){var t=e.errors,r=e.sellerEmail,n=e.sheetPosted,a=e.sheetTemplateUrl,i=e.sheetTipsUrl,c=e.sheetValidationUrl,l=e.shortSheetTemplateUrl,s=e.urlBatchesImportStatus,u=e.urlImportStatusDetail,d=e.urlMyProducts,m=Object(W.c)("productImportMainPage").t;return o.a.createElement(ii.a,{basename:dc.basename},o.a.createElement(ci.b,{path:[dc.import,dc.status],exact:!0},o.a.createElement(li,{paths:dc})),o.a.createElement(ci.b,{path:dc.import,exact:!0},o.a.createElement(Ui,{errors:t,sellerEmail:r,sheetPosted:n,sheetTemplateUrl:a,sheetTipsUrl:i,sheetValidationUrl:c,shortSheetTemplateUrl:l,title:"".concat(m("send spreadsheet")," | olist")})),o.a.createElement(ci.b,{path:dc.status,exact:!0},o.a.createElement(Ji,{title:"".concat(m("track status")," | olist"),urlBatchesImportStatus:s,urlMyProducts:d})),o.a.createElement(ci.b,{path:dc.statusDetail},o.a.createElement(uc,{title:"".concat(m("status detail")," | olist"),urlImportStatusDetail:u})))};mc.defaultProps={errors:[],sheetTipsUrl:"#",sheetValidationUrl:"#",urlBatchesImportStatus:"/products/batches/",urlImportStatusDetail:"/products/batch-items/",urlMyProducts:"/products/"};var pc=mc,gc=[{key:"created",name:Object(Xi.b)("draft",{ns:"productTabs"}),title:Object(Xi.b)("products in draft",{ns:"productTabs"}),subTitle:Object(Xi.b)("Adjust and complete product registration and submit for review.",{ns:"productTabs"}),badgeVariation:"danger",params:{status:"created",active:!0},splash:{title:Object(Xi.b)("No product in draft",{ns:"productTabs"}),subTitle:o.a.createElement(o.a.Fragment,null,"".concat(Object(Xi.b)("Did new products arrive? Register and increase your sales",{ns:"productTabs"})," "),o.a.createElement(i.i,{label:"money-mouth",symbol:"\ud83e\udd11"})),image:M.h,buttonText:Object(Xi.b)("new product",{ns:"productTabs"})}},{key:"rejected",name:Object(Xi.b)("to fix",{ns:"productTabs"}),title:Object(Xi.b)("products awaiting correction",{ns:"productTabs"}),subTitle:Object(Xi.b)("Adjust the product registration as suggested and submit for review.",{ns:"productTabs"}),badgeVariation:"danger",params:{status:"rejected",active:!0},splash:{title:Object(Xi.b)("No product in correction",{ns:"productTabs"}),subTitle:o.a.createElement(o.a.Fragment,null,"".concat(Object(Xi.b)("Great time to get a coffee and register more products",{ns:"productTabs"})," "),o.a.createElement(i.i,{label:"coffee",symbol:"\u2615\ufe0f"}),o.a.createElement(i.i,{label:"wink",symbol:"\ud83d\ude09"})),image:M.j,buttonText:Object(Xi.b)("new product",{ns:"productTabs"})}},{key:"moderation",name:Object(Xi.b)("in moderation",{ns:"productTabs"}),title:Object(Xi.b)("products in moderation",{ns:"productTabs"}),badgeVariation:"danger",params:{status:"moderation",active:!0},splash:{title:Object(Xi.b)("No product in moderation",{ns:"productTabs"}),subTitle:o.a.createElement(o.a.Fragment,null,"".concat(Object(Xi.b)("Our review team is waiting for new products",{ns:"productTabs"})," "),o.a.createElement(i.i,{label:"smiling face with hearts",symbol:"\ud83e\udd70"})),image:M.t,buttonText:Object(Xi.b)("new product",{ns:"productTabs"})}},{key:"active",name:Object(Xi.b)("active",{ns:"productTabs"}),title:Object(Xi.b)("active products to sell",{ns:"productTabs"}),subTitle:Object(Xi.b)("Products have been uploaded to channels. Keep the products updated.",{ns:"productTabs"}),badgeVariation:"danger",params:{status:"approved",active:!0},splash:{title:Object(Xi.b)("No active product",{ns:"productTabs"}),subTitle:Object(Xi.b)("After approval by the review team, the products will be active for sale.",{ns:"productTabs"}),image:M.k,buttonText:Object(Xi.b)("new product",{ns:"productTabs"})}},{key:"inactive",name:Object(Xi.b)("inactive",{ns:"productTabs"}),title:Object(Xi.b)("inactive products",{ns:"productTabs"}),subTitle:Object(Xi.b)("Products sale is no longer allowed on channels.",{ns:"productTabs"}),badgeVariation:"danger",params:{active:!1},splash:{title:Object(Xi.b)("No inactive product",{ns:"productTabs"}),subTitle:Object(Xi.b)("Take the opportunity to register more products",{ns:"productTabs"}),image:M.v,buttonText:Object(Xi.b)("new product",{ns:"productTabs"})}},{key:"documentation",name:Object(Xi.b)("verify invoice",{ns:"productTabs"}),title:Object(Xi.b)("send purchase invoice",{ns:"productTabs"}),subTitle:Object(Xi.b)("The notes analysis guarantees the quality and the origin to the customers. Send only those issued by the same registered CNPJ.",{ns:"productTabs"}),badgeVariation:"attention",params:{status:"pending,rejected",file_type:"nf"},splash:{title:Object(Xi.b)("No product awaiting invoice verification",{ns:"productTabs"}),subTitle:Object(Xi.b)("Take the opportunity to increase competitiveness and register more products",{ns:"productTabs"}),image:M.c,buttonText:Object(Xi.b)("new product",{ns:"productTabs"})}},{key:"all",name:Object(Xi.b)("all",{ns:"productTabs"}),title:Object(Xi.b)("all products",{ns:"productTabs"}),subTitle:Object(Xi.b)("Find a specific product using the search.",{ns:"productTabs"}),badgeVariation:"danger",params:{},splash:{title:o.a.createElement(o.a.Fragment,null,"".concat(Object(Xi.b)("We didn't find any products",{ns:"productTabs"})," "),o.a.createElement(i.i,{label:"sad face",symbol:"\ud83d\ude15"})),subTitle:"",image:M.l,buttonText:Object(Xi.b)("new product",{ns:"productTabs"})},default:!0}];function hc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hc(r,!0).forEach((function(t){k()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hc(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var bc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.map((function(e){var r=t.find((function(t){return t.key===e.key}));return r?fc({},e,{},r):e}))},vc=r(63),Ec=r(78),xc=r.n(Ec);function wc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var yc=Object(T.W)("text","light"),Oc=function(e){var t=e.checkedItems,r=e.currentTab,n=e.isOpen,a=e.onRequestClose,i=e.urlMassAction,c=Object(W.c)("productModalMassActionConfirmation").t,l="moderation"===r.key;if(l){return l&&o.a.createElement(ua,{actionData:function(){var e={comment:"Produto em corre\xe7\xe3o conforme solicitado pelo lojista.",status:"rejected",moderated_by:"webapp"};return t.map((function(t){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wc(r,!0).forEach((function(t){k()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wc(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{sku:t})}))}(),isOpen:n,onRequestClose:a,title:c("cancel submission for review"),content:o.a.createElement(o.a.Fragment,null,o.a.createElement(T.M,{mb:3,color:yc},c("When you cancel sending the product for review, it will be available for editing in to fix tab.")),o.a.createElement(T.M,{color:yc},c("The review deadline will be restarted."))),submitUrl:i})}return null},jc=Object(F.default)(T.M).withConfig({componentId:"sc-4f8g1z-0"})(["cursor:pointer;color:",";line-height:1;margin-left:12px;"],Object(T.W)("text","primary")),Cc=Object(F.default)(T.e).withConfig({componentId:"sc-4f8g1z-1"})(["",";"],(function(e){return e.isChecked&&Object(F.css)(["border:2px solid ",";","{color:",";font-weight:",";}"],Object(T.W)("alternate"),jc,Object(T.W)("alternate"),Object(L.b)("fontWeights.bold"))})),kc=function(e){var t=e.isChecked,r=e.onClick,n=e.selectedProducts,a=Object(W.c)("productMassActionButton").t,i=n>0?a("{{count}} products selected",{count:n}):a("select");return o.a.createElement(Cc,{isChecked:t,onClick:r},o.a.createElement(T.h,{checked:t,label:o.a.createElement(jc,null,i)}))},Sc=function(e){var t=e.currentOrdination,r=e.handleOrdinationChange,n=Object(W.c)("productProductsOrdination").t,a={name:n("A - Z"),"-name":n("Z - A"),"-updated_at":n("newest"),updated_at:n("oldest")};return o.a.createElement(T.k,null,o.a.createElement(T.k.Toggle,null,a[t]||n("order")),o.a.createElement(T.k.Menu,{right:"0"},Object.entries(a).map((function(e){var t=oe()(e,2),n=t[0],a=t[1];return o.a.createElement(T.k.Item,{onClick:function(){return r(n)},key:n},a)}))))};Sc.defaultProps={currentOrdination:""};var Pc=Sc,Ic=function(e){var t=e.currentQuantity,r=e.handleQuantityChange,n=Object(W.c)("productProductsQuantity").t,a=t<100?t:100;return o.a.createElement(T.k,null,o.a.createElement(T.k.Toggle,null,n("{{count}} product",{count:a})),o.a.createElement(T.k.Menu,{right:"0"},[25,50,75,100].map((function(e){return o.a.createElement(T.k.Item,{onClick:function(){return r(e)},key:e},n("{{count}} product",{count:e}))}))))};Ic.defaultProps={currentQuantity:25};var Tc=Ic;function Mc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mc(r,!0).forEach((function(t){k()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mc(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Lc=function(e){var t=e.submitUrl,r=e.invoice,o=Object(a.useState)(r),i=oe()(o,2),c=i[0],s=i[1],u=Object(a.useState)(null),d=oe()(u,2),p=d[0],g=d[1];return{error:p,handleSave:function(){var e=m()(l.a.mark((function e(r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.p.put(t,r);case 3:s(Fc({},c,{status:"waiting_review",file_url:r.file_url})),g(null),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),g(Object(Xi.b)("Something went wrong. Try again.",{ns:"productUseInvoiceRequest"}));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),invoiceState:c,setError:g}},Uc=F.default.div.withConfig({componentId:"colxe3-0"})(["align-items:center;height:65px;justify-content:center;margin-right:18px;width:65px;"]),Dc=F.default.div.attrs((function(e){return{style:{backgroundImage:"url(".concat(e.imageUrl,")")}}})).withConfig({componentId:"colxe3-1"})(["background-blend-mode:multiply;background-position:center;background-repeat:no-repeat;background-size:contain;height:100%;width:100%;"]),Ac=F.default.p.withConfig({componentId:"colxe3-2"})([""]),Wc=Object(F.default)(T.n).attrs({alignItems:"center",mr:5}).withConfig({componentId:"colxe3-3"})([""]),_c=Object(F.default)(T.M).withConfig({componentId:"colxe3-4"})(["color:",";"],Object(T.W)("text","light")),zc=Object(F.default)(T.K.Row).attrs({as:"div"}).withConfig({componentId:"colxe3-5"})(["border-bottom:1px solid ",";"],Object(T.W)("shadow","light")),qc=Object(F.default)(T.K.Row).attrs({as:"a"}).withConfig({componentId:"colxe3-6"})(["font-size:inherit;border-bottom:1px solid ",";:hover{background-color:",";","{color:",";}","{background-color:",";}}"],Object(T.W)("shadow","light"),Object(T.W)("shadow","light",1),Ac,Object(T.W)("blue"),Dc,Object(T.W)("shadow","light",1)),Rc=function(e){var t=e.sku,r=e.productsEditUrl,n=Object(W.c)("productInactiveProduct").t,i=Object(a.useState)(!1),c=oe()(i,2),l=c[0],s=c[1];return o.a.createElement(T.K.Cell,{textAlign:"right",as:"div",width:"75px"},o.a.createElement(T.k,{shouldShowChevron:!1,onClick:function(e){return e.preventDefault()}},o.a.createElement(T.k.Toggle,{variation:"link",px:"8px"},o.a.createElement(T.o,{name:"more-fill",size:25})),o.a.createElement(T.k.Menu,{right:"0",minWidth:"auto"},o.a.createElement(T.k.Item,{as:"div","data-ref":"inactive-button",onClick:function(e){e.preventDefault(),s(!0)}},n("inactive")))),o.a.createElement(ua,{actionData:{active:!1},isOpen:l,onRequestClose:function(){return s(!1)},title:n("are you sure you want to make the product inactive?"),content:n("Your product will be in the inactive products tab and will not be for sale on channels. To make it active you must open a ticket."),submitUrl:"".concat(r+t,"/")}))};Rc.defaultProps={productsEditUrl:"/products/edit/"};var Vc=Rc,Bc=T.K.Cell.SubLine,Nc=function(e){var t=e.comment,r=e.error,n=e.status,a=Object(W.c)("productInvoiceStatus").t,i={pending:{title:a("pendencies"),message:a("purchase invoice")},rejected:{message:a("invoice rejected"),title:a("The invoice was not approved.")},waiting_review:{comment:a("Wait for the analysis of our team."),message:a("invoice sent"),title:a("Invoice sent successfully.")}};if(r)return o.a.createElement(T.l,{messages:[r]});if("pending"===n)return o.a.createElement(o.a.Fragment,null,i.pending.title,o.a.createElement(Bc,null,i.pending.message));if(["rejected","waiting_review"].includes(n)){var c={rejected:{circle:"danger",comment:t,message:i.rejected.message,title:i.rejected.title},waiting_review:{circle:"success",comment:i.waiting_review.comment,message:i.waiting_review.message,title:i.waiting_review.title}}[n];return o.a.createElement(T.C,{content:c.comment,placement:"topLeft",title:c.title,trigger:"hover",width:"340px",ml:"-12px"},o.a.createElement(T.n,{alignItems:"center"},o.a.createElement(T.c,{circle:!0,variation:c.circle,mr:2}),c.message))}return null};Nc.defaultProps={comment:"",error:""};var Hc=Nc,Gc=o.a.memo((function(e){var t=e.file_url,r=e.id,c=e.onUploadFailed,l=e.onUploadSuccess,s=e.presignedPostUrl,d=e.status,m=Object(W.c)("productInvoiceTransfer").t,p=Object(a.useState)(!1),g=oe()(p,2),h=g[0],f=g[1],b=Object(a.useState)(null),v=oe()(b,2),E=v[0],x=v[1],w=Object(a.useRef)(null),y=[n.f.extension,n.c.extension,n.d.extension,n.h.extension,n.l.extension].join(","),O=["pending","rejected"].includes(d);return Object(a.useEffect)((function(){if(!E){var e=Object(n.G)({allowedFileTypes:[].concat(u()(n.f.type),[n.c.type,n.d.type,n.h.type,n.l.type]),getUploadParameters:function(e){return n.p.post(s,{filename:e.name,contentType:e.type}).then((function(e){var t=e.data;return{method:t.method,url:t.url,fields:t.fields}}))}});x(e)}}),[]),o.a.createElement(T.d,{maxWidth:"210px"},O?o.a.createElement(o.a.Fragment,null,o.a.createElement(T.e,{fullWidth:!0,icon:"publish-fill",loading:h,onClick:function(){return w.current.click()}},m("send invoice")),o.a.createElement(i.s,{accept:y,onChange:function(e){var t=e.target.files[0];w.current.value="";try{E.addFile({data:t,name:t.name,type:t.type})}catch(n){return void c(m("Attach only PDF, JPG, WEBP, PNG files."))}f(!0),E.upload().then((function(e){var t=e.successful;if(0===t.length)return c(m("Failed to send file. Try again."));var n=oe()(t,1)[0],a=n.xhrUpload,o=n.meta,i=a.endpoint+o.key;return l({file_url:i,id:r})})).then((function(){f(!1),E.reset()}))},type:"file",ref:w})):o.a.createElement(T.t,{fullWidth:!0,href:t,target:"_blank",icon:"download-outline"},m("download invoice")))})),$c=function(e){var t,r=e.status,n=Object(W.c)("productProductStatus").t,a=function(e){return{rejected:"danger",sent:"success"}[e]}(r),i=!!a;return o.a.createElement(T.G,null,i&&o.a.createElement(T.c,{bottom:"0",circle:!0,"data-ref":"badge",left:"-14px",my:"auto",position:"absolute",size:"small",top:"3px",variation:a}),o.a.createElement(T.M,null,(t=r,{approved:n("active"),created:n("draft"),rejected:n("to fix"),moderation:n("in moderation"),sent:n("active"),inactive:n("inactive")}[t])))},Zc=F.default.button.withConfig({componentId:"ex1ccc-0"})(["padding:0 10px;path{fill:",";}&:hover{path{fill:",";}}"],Object(T.W)("text","light"),Object(T.W)("blue","primary")),Kc=function(e){var t=e.isInactive,r=e.inactiveReason,n=Object(W.c)("productProductInactiveNotification").t,a=r||"default",i="seller_inactivation"===r,c={cancellation_rate:{title:n("canceled orders"),message:n("The product generated a significant amount of canceled orders, because of this it was inactivated.")},claim_rate:{title:n("order complaints"),message:n("The product generated a significant amount of complaints, because of this it was inactivated.")},removed_product:{title:n("product removed"),message:n("The selling of this product its not allowed anymore in channels through olist. The commercialization could bring legal issues.")},seller_inactivation:{title:n("seller inactivation"),message:n("The seller requested the product inactivation.")},default:{title:n("product with problem"),message:n("The product is inactive because of significant amount of complaints, cancelations or because it can't be selled anymore in channels through olist.")}}[a];return t&&o.a.createElement(T.n,{alignItems:"center"},o.a.createElement(T.M.Small,{color:"grey",lineHeight:"initial"},c.title),o.a.createElement(T.d,{ml:1},o.a.createElement(T.C,{placement:"bottomRight",content:o.a.createElement(o.a.Fragment,null,o.a.createElement(T.M.H4,{color:"text","data-ref":"popover-title"},c.title),o.a.createElement(T.M.Small,{color:"grey","data-ref":"popover-message",lineHeight:"initial"},c.message,!i&&o.a.createElement(T.M.Link,{as:"span",onClick:function(e){e.preventDefault(),window.open("https://get.olist.help/pt-BR/articles/3793998-entenda-a-inativacao-de-anuncio-por-taxa-de-reclamacao","_blank")},ml:1},n("know more")))),trigger:"hover",width:350,delay:100},o.a.createElement(Zc,null,o.a.createElement(T.o,{name:"alert-circle-outline"})))))},Qc=T.K.Cell,Jc=function(e){var t=e.checkItem,r=e.currentTabKey,n=e.documentationUrl,a=e.invoicePresignedPostUrl,c=e.isChecked,l=e.isModerationTab,s=e.product,u=e.productsEditUrl,d=e.unCheckItem,m=Object(W.c)("productProductRow").t,p=s.active,g=s.name,h=s.gtin,f=s.part_number,b=s.photo,v=s.status,E=s.sku,x=s.updated_at,w=s.invoice,y=w&&!!Object.keys(w).length,O=!!b,j=u+E,C=p?qc:zc,k=!!h,S=!!f,P=Lc({submitUrl:n,invoice:w}),I=P.error,M=P.handleSave,F=P.invoiceState,L=P.setError,U=p?v:"inactive",D=["active","rejected"].includes(r);return o.a.createElement(C,{href:j,"data-ref":"row-wrapper"},l&&o.a.createElement(Qc,{width:"53px",as:"label",htmlFor:E},o.a.createElement(T.n,null,o.a.createElement(T.h,{checked:c,id:E,onChange:function(e){return e.target.checked?t(E):d(E)},value:E}))),o.a.createElement(Qc,{width:"715px",as:"div"},o.a.createElement(T.n,{alignItems:"center"},O&&o.a.createElement(Uc,null,o.a.createElement(Dc,{imageUrl:b,"data-ref":"product-photo"})),o.a.createElement(T.n,{flexDirection:"column"},o.a.createElement(Ac,null,g),o.a.createElement(T.n,{alignItems:"center"},k&&o.a.createElement(Wc,null,o.a.createElement(T.o,{name:"barcode-outline",color:Object(T.W)("text","light",1)}),o.a.createElement(_c,{ml:2,"data-ref":"gtin",mr:2},h),o.a.createElement(T.n,{height:"24px"},o.a.createElement(i.e,{message:m("copy"),valueToCopy:h,size:"small"}))),!k&&S&&o.a.createElement(Wc,null,o.a.createElement(_c,{"data-ref":"part-number",mr:2},"PART NUMBER ".concat(f)),o.a.createElement(T.n,{height:"24px"},o.a.createElement(i.e,{message:m("copy"),valueToCopy:f,size:"small"}))),o.a.createElement(Wc,null,o.a.createElement(_c,{"data-ref":"sku",mr:2},"SKU ".concat(E)),o.a.createElement(T.n,{height:"24px"},o.a.createElement(i.e,{message:m("copy"),valueToCopy:E,size:"small"}))))))),o.a.createElement(Qc,{as:"div"},y?o.a.createElement(Hc,Te()({},F,{error:I})):o.a.createElement(o.a.Fragment,null,o.a.createElement($c,{status:U}),o.a.createElement(Kc,{isInactive:!s.active,inactiveReason:s.inactive_reason}))),o.a.createElement(Qc,{textAlign:"right",as:"div",width:"242px"},y?o.a.createElement(Gc,Te()({},F,{presignedPostUrl:a,onUploadSuccess:M,onUploadFailed:L})):o.a.createElement(_c,null,m("{{date, timeDistanceToNow}}",{date:new Date(x)}))),D&&o.a.createElement(Vc,{sku:E,productsEditUrl:u}))};Jc.defaultProps={documentationUrl:"/products/documentation.",invoicePresignedPostUrl:"",isChecked:!1,productsEditUrl:"/products/edit/"};var Yc=Object(a.memo)(Jc),Xc=function(e){var t=e.handleQueryChange,r=e.newProductUrl,n=e.pageControl,c=e.products,l=e.productsEditUrl,s=e.queryControl,u=e.splash,d=e.subTitle,m=e.title,p=e.urlMassRejection,g=Fe()(e,["handleQueryChange","newProductUrl","pageControl","products","productsEditUrl","queryControl","splash","subTitle","title","urlMassRejection"]),h=Object(W.c)("productProductsTable").t,f=Object(vc.b)(),b=f.checkItem,v=f.checkItems,E=f.checkedItems,x=f.unCheckAll,w=f.unCheckItem,y=Object(a.useState)(!1),O=oe()(y,2),j=O[0],C=O[1],k=Object(ui.a)("products-page-visits",0),S=oe()(k,2),P=S[0],I=S[1],M=n.currentTab,F=n.hasError,L=n.isLoading,U=n.isSuccess,D=s.count,A=s.countFrom,_=s.countTo,z=s.currentOrdination,q=s.currentSearch,R=s.currentPage,V=s.currentQuantity,B=s.pageCount,N=E.length,H=c&&!!c.length,G=!U&&!F&&!L,$="moderation"===M.key,Z=N>0,K=B>1,Q=c.map((function(e){return e.sku})),J=A===_?A:"".concat(A,"-").concat(_),Y=L||G,X=H&&U&&!F,ee=!H&&U&&!F,te=F,re=P<3;Object(a.useEffect)((function(){P<3&&$&&I(P+1)}),[]);var ne=K?h("{{rangeProductsInPage}} of {{count}} product",{rangeProductsInPage:J,count:D}):h("{{count}} product",{count:D});return Y?o.a.createElement(T.d,{mt:"200px"},o.a.createElement(T.u,null)):o.a.createElement(o.a.Fragment,null,X&&o.a.createElement(o.a.Fragment,null,o.a.createElement(T.d,{mt:4},o.a.createElement(T.M.H4,null,m),d&&o.a.createElement(T.M,{color:Object(T.W)("text","light")},o.a.createElement(xc.a,{renderInWrapper:!1,components:{Text:T.M},jsx:d}))),o.a.createElement(T.n,{justifyContent:"flex-end",mt:"48px"},$&&o.a.createElement(T.n,{mr:"auto",alignItems:"center"},o.a.createElement(kc,{isChecked:Q.every((function(e){return E.includes(e)})),onClick:function(){return v(Q)},selectedProducts:N}),o.a.createElement(T.e,{variation:"primary",ml:3,disabled:!Z,onClick:function(){return C(!0)}},h("cancel submission for review")),o.a.createElement(T.C,{active:re,content:o.a.createElement(T.M,{color:Object(T.W)("text","light")},o.a.createElement(W.a,{ns:"productProductsTable"},"if you submitted your products for review, but need to adjust something, just select one or more products, cancel the shipment and change what you need ",o.a.createElement(i.i,{label:"smiling face",symbol:"\ud83d\ude0a"}))),noBorder:!1,placement:"right",variation:"news",width:"361px"},o.a.createElement(T.c,{variation:"news",ml:2},h("new")))),o.a.createElement(T.d,{mr:2},o.a.createElement(Pc,{currentOrdination:z,handleOrdinationChange:function(e){return t({search:q,paginate_by:V,ordering_by:e})}})),o.a.createElement(T.d,null,o.a.createElement(Tc,{currentQuantity:V,handleQuantityChange:function(e){return t({search:q,paginate_by:e,ordering_by:z})}}))),o.a.createElement(T.d,{my:4},o.a.createElement(T.M.Small,{color:Object(T.W)("text","light"),"data-ref":"products-count"},Z?o.a.createElement(T.M.Link,{color:"blue",onClick:x},h("clear selection")):ne)),o.a.createElement(T.K,{as:"div"},c.map((function(e){var t=E.includes(e.sku);return o.a.createElement(Yc,Te()({currentTabKey:M.key,key:e.sku,product:e,productsEditUrl:l,isModerationTab:$,checkItem:b,unCheckItem:w,isChecked:t},g))}))),o.a.createElement(T.n,{my:7,justifyContent:"center"},K&&o.a.createElement(T.B,{currentPage:R,onPageChange:function(e){return t({page:e},{concat:!0})},pageCount:B}))),j&&o.a.createElement(Oc,{currentTab:M,checkedItems:E,isOpen:j,onRequestClose:function(){return C(!1)},urlMassAction:p}),ee&&o.a.createElement(T.d,{mt:"100px"},o.a.createElement(i.F,{imgSrc:u.image,link:{href:r,text:u.buttonText},subtitle:u.subTitle,title:u.title,"data-ref":"empty-state"})),te&&o.a.createElement(T.d,{mt:"100px"},o.a.createElement(Ai.a,{"data-ref":"error-state"})))};Xc.defaultProps={handleQueryChange:null,newProductUrl:"/products/catalog/search/",pageControl:{currentTab:"",hasError:!1,isLoading:!1,isSuccess:!1},products:[],queryControl:{count:1,countFrom:1,countTo:1,currentOrdination:"",currentPage:1,currentQuantity:25,currentSearch:"",pageCount:1},splash:{},subTitle:"",title:"",urlMassRejection:"/moderation/edit/"};var el=Xc,tl=function(e){return"/".concat(e)},rl=function(e){var t=e.getProductsUrl,r=e.tabs,n=Fe()(e,["getProductsUrl","tabs"]),a=Object(W.c)("productProductsTab").t,c=Object(vc.c)({requestUrl:t,tabs:r}),l=c.currentTab,s=c.handleQueryChange,u=c.handleTabChangeBeforeSubmit,d=c.handleTabClick,m=c.params,p=c.result,g=p.count,h=p.count_from,f=p.count_to,b=p.hasError,v=p.isLoading,E=p.page,x=p.results,w=p.success,y=p.total_pages,O={currentTab:l,hasError:b,isLoading:v,isSuccess:w},j={count:g,countFrom:h,countTo:f,currentOrdination:m.ordering_by,currentPage:E,currentQuantity:m.paginate_by&&Number(m.paginate_by),currentSearch:m.search,pageCount:y},C=!w&&!b&&!v||v;return o.a.createElement(o.a.Fragment,null,o.a.createElement(T.L.Link,null,r.map((function(e,t){var r=e.badgeVariation,n=e.hasBadge,a=e.key,i=e.name,c=l.key===a,s="/products/".concat(a);return o.a.createElement(T.J,{href:s,isActive:c,key:a,onClick:d(e,{persistParams:{paginate_by:m.paginate_by,ordering_by:m.ordering_by}}),"data-ref":"tab-".concat(t),disabled:C},i,n&&o.a.createElement(T.c,{circle:!0,variation:r,position:"absolute",width:"8px",height:"8px","data-ref":"badge"}))})),o.a.createElement(T.G,{ml:"auto",top:"6px",width:"250px"},o.a.createElement(i.w.Borderless,{onQueryChange:u(r.find((function(e){return"all"===e.key}))),param:{search:m.search},persistParams:{paginate_by:m.paginate_by,ordering_by:m.ordering_by},disabled:C,placeholder:a("search by title or code")}))),o.a.createElement(ci.d,null,r.map((function(e){var t=e.key,r=e.title,a=e.splash,i=e.subTitle,c="all"===t?["/",tl(t)]:tl(t);return o.a.createElement(ci.b,{path:c,exact:!0,key:t},o.a.createElement(el,Te()({handleQueryChange:s,pageControl:O,products:x,queryControl:j,splash:a,subTitle:i,title:r},n)))})),o.a.createElement(ci.b,null)))};rl.defaultProps={getProductsUrl:"/products/results/"};var nl=rl,al=i.x.Container,ol=i.x.SubHeader,il=i.x.Title,cl=function(e){var t=e.catalogSearchUrl,r=e.documentationUrl,i=e.hasInvoicePendingProduct,c=e.hasRejectedProduct,l=e.productsGtinUrl,s=e.productsImportUrl,u=e.stockAndPriceUrl,d=Fe()(e,["catalogSearchUrl","documentationUrl","hasInvoicePendingProduct","hasRejectedProduct","productsGtinUrl","productsImportUrl","stockAndPriceUrl"]),m=Object(W.c)("productProductsPage").t,p=Object(a.useContext)(n.k).features.includes("brand_pool_only")?l:t,g=bc(gc,[{key:"documentation",hasBadge:i,requestUrl:r},{key:"rejected",hasBadge:c},{key:"moderation"}]);return o.a.createElement(ii.a,{basename:"/products"},o.a.createElement(al,null,o.a.createElement(ol,null,o.a.createElement(T.n,{justifyContent:"space-between"},o.a.createElement(il,null,m("my products")),o.a.createElement(T.d,null,o.a.createElement(T.t,{href:u,mr:2},m("stock & price")),o.a.createElement(T.t,{href:s,icon:"download-outline",mr:2},m("import products")),o.a.createElement(T.t,{href:p,variation:"alternate","data-ref":"new-product-button"},m("new product"))))),o.a.createElement(nl,Te()({newProductUrl:p,tabs:g,documentationUrl:r},d))))};cl.defaultProps={catalogSearchUrl:"/products/catalog/search/",documentationUrl:"/products/product-documentation/",hasInvoicePendingProduct:!1,hasRejectedProduct:!1,productsGtinUrl:"/products/gtin/",productsImportUrl:"/products/import/",stockAndPriceUrl:"/stock/stock-and-price/"};var ll=cl;Object(n.u)({"catalog-page":{component:me,attributesTransformer:{action:String,"gtin-url":String,"portfolio-size":Number,"product-catalog-url":String,"request-query":String,"url-update-portfolio-size":String}},"gtin-page":{component:Pe,attributesTransformer:{action:String,errors:Array}},"product-page":{component:oi,attributesTransformer:{channels:Object,"categories-url":String,"category-url":String,"days-of-moderation":Number,"moderation-errors":Object,"package-tips-url":String,"package-weight-is-invalid":Boolean,visibilities:Object,"photo-upload-url":String,product:Object,"redirect-url":String,"submit-url":String,"suggestion-url":String,"suggest-change-url":String,"is-bf-price-up-locked":Boolean,"enable-price-variation":Boolean}},"products-page":{component:ll,attributesTransformer:{"catalog-search-url":String,"days-of-moderation":Number,"documentation-url":String,"get-products-url":String,"has-invoice-pending-product":Boolean,"has-rejected-product":Boolean,"invoice-presigned-post-url":String,"products-edit-url":String,"products-gtin-url":String,"products-import-url":String,"stock-and-price-url":String,"url-mass-rejection":String}},"import-product-page":{component:pc,attributesTransformer:{errors:Array,"product-url":String,"seller-email":String,"sheet-template-url":String,"sheet-posted":Boolean,"sheet-tips-url":String,"sheet-validation-url":String,"short-sheet-template-url":String,"url-batches-import-status":String,"url-import-status-detail":String,"url-my-products":String}}})}},[[469,0]]]);